{
  "version": 3,
  "sources": ["../../../../packages/runtime/dist/esm/context-65bd1d90.js", "../../../../packages/runtime/dist/esm/internal.js", "../../../src/todomvc/App.velvet", "../../../src/todomvc/index.js"],
  "sourcesContent": ["let _Object = Object;\nlet _Symbol = Symbol;\n\nlet RE_HYPHENATE = /\\B([A-Z])/g;\nlet noop = () => {\n};\nfunction hyphenate(str) {\n  return str.replace(RE_HYPHENATE, \"-$1\").toLowerCase();\n}\nlet is = _Object.is;\nlet assign = _Object.assign;\nlet is_function = (x) => typeof x === \"function\";\nfunction to_number(value) {\n  return value === \"\" ? null : +value;\n}\n\nlet undefined$1;\nlet RUNNING = 1 << 0;\nlet NOTIFIED = 1 << 1;\nlet OUTDATED = 1 << 2;\nlet DISPOSED = 1 << 3;\nlet HAS_ERROR = 1 << 4;\nlet TRACKING = 1 << 5;\nlet depth_sort = (a, b) => a.c - b.c;\nlet eval_scope;\nlet eval_context;\nlet eval_sources;\nlet eval_sources_idx = 0;\nlet batched_effects;\nlet batch_depth = 0;\nlet batch_iteration = 0;\nlet clock = 0;\nfunction start_batch() {\n  batch_depth++;\n}\nfunction end_batch() {\n  if (batch_depth > 1) {\n    batch_depth--;\n    return;\n  }\n  let error;\n  let has_error = false;\n  while (batched_effects) {\n    let effects = batched_effects.sort(depth_sort);\n    let idx = 0;\n    let len = effects.length;\n    batched_effects = undefined$1;\n    batch_iteration++;\n    for (; idx < len; idx++) {\n      let effect2 = effects[idx];\n      effect2.d &= ~NOTIFIED;\n      if (!(effect2.d & DISPOSED) && need_recompute(effect2)) {\n        try {\n          effect2.m();\n        } catch (err) {\n          if (!has_error) {\n            error = err;\n            has_error = true;\n          }\n        }\n      }\n    }\n  }\n  batch_iteration = 0;\n  batch_depth--;\n  if (has_error) {\n    throw error;\n  }\n}\nfunction need_recompute(target) {\n  let sources = target.b;\n  let len = sources.length;\n  let idx = 0;\n  let source;\n  for (; idx < len; idx++) {\n    source = sources[idx];\n    if (source.e > target.e || source.h()) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction cleanup_context() {\n  let sources = eval_context.b;\n  if (eval_sources) {\n    prune_context_sources();\n    if (eval_sources_idx > 0) {\n      let l = eval_sources.length;\n      let i = 0;\n      sources.length = eval_sources_idx + l;\n      for (; i < l; i++) {\n        sources[eval_sources_idx + i] = eval_sources[i];\n      }\n    } else {\n      sources = eval_context.b = eval_sources;\n    }\n    let len = sources.length;\n    let idx = eval_sources_idx;\n    for (; idx < len; idx++) {\n      let source = sources[idx];\n      source.i = undefined$1;\n      if (eval_context.d & TRACKING) {\n        source.j(eval_context);\n      }\n    }\n  } else if (eval_sources_idx < eval_context.b.length) {\n    prune_context_sources();\n    sources.length = eval_sources_idx;\n  }\n  while (eval_sources_idx--) {\n    let source = sources[eval_sources_idx];\n    source.i = undefined$1;\n  }\n}\nfunction prune_context_sources() {\n  let sources = eval_context.b;\n  let len = sources.length;\n  let idx = eval_sources_idx;\n  for (; idx < len; idx++) {\n    let source = sources[idx];\n    source.g(eval_context);\n  }\n}\nfunction dispose_effect(effect2) {\n  let sources = effect2.b;\n  let len = sources.length;\n  let idx = 0;\n  for (; idx < len; idx++) {\n    sources[idx].g(effect2);\n  }\n  sources.length = 0;\n}\nclass Signal {\n  /**\n   * @param {T} value\n   */\n  constructor(value) {\n    let _this = this;\n    _this.a = value;\n    _this.e = -1;\n    _this.f = [];\n    _this.i = undefined$1;\n  }\n  /**\n   * @internal\n   * @returns {boolean}\n   */\n  h() {\n    return false;\n  }\n  /**\n   * @internal\n   * @param {Computed | Effect} target\n   */\n  j(target) {\n    let _this = this;\n    _this.f.push(target);\n  }\n  /**\n   * @internal\n   * @param {Computed | Effect} target\n   */\n  g(target) {\n    let _this = this;\n    let targets = _this.f;\n    let idx = targets.indexOf(target);\n    targets.splice(idx, 1);\n  }\n  /**\n   * @returns {T}\n   */\n  peek() {\n    let _this = this;\n    return _this.a;\n  }\n  /** @type {T} */\n  get value() {\n    let _this = this;\n    if (eval_context && _this.i !== eval_context) {\n      _this.i = eval_context;\n      if (!eval_sources) {\n        if (eval_context.b[eval_sources_idx] === _this) {\n          eval_sources_idx++;\n        } else {\n          eval_sources = [_this];\n        }\n      } else {\n        eval_sources.push(_this);\n      }\n    }\n    return _this.a;\n  }\n  set value(next) {\n    let _this = this;\n    if (_this.a !== next) {\n      _this.a = next;\n      _this.e = ++clock;\n      if (batch_iteration < 100) {\n        let targets = _this.f;\n        let len = targets.length;\n        let idx = 0;\n        start_batch();\n        for (; idx < len; idx++) {\n          targets[idx].k();\n        }\n        end_batch();\n      }\n    }\n  }\n}\nclass Computed extends Signal {\n  /**\n   * @param {() => T} compute\n   */\n  constructor(compute) {\n    super();\n    let _this = this;\n    _this.l = compute;\n    _this.b = [];\n    _this.d = OUTDATED;\n    _this.n = -1;\n  }\n  /**\n   * @internal\n   * @returns {boolean}\n   */\n  h() {\n    let _this = this;\n    _this.d &= ~NOTIFIED;\n    if (_this.d & RUNNING) {\n      return false;\n    }\n    if ((_this.d & (OUTDATED | TRACKING)) === TRACKING) {\n      return false;\n    }\n    _this.d &= ~OUTDATED;\n    if (_this.n === clock) {\n      return false;\n    }\n    _this.n = clock;\n    _this.d |= RUNNING;\n    if (_this.e > -1 && !need_recompute(_this)) {\n      _this.d &= ~RUNNING;\n      return false;\n    }\n    let stale = false;\n    let prev_context = eval_context;\n    let prev_sources = eval_sources;\n    let prev_sources_idx = eval_sources_idx;\n    try {\n      eval_context = _this;\n      eval_sources = undefined$1;\n      eval_sources_idx = 0;\n      let value = _this.l();\n      if (_this.d & HAS_ERROR || _this.a !== value || _this.e === -1) {\n        stale = true;\n        _this.a = value;\n        _this.d &= ~HAS_ERROR;\n        _this.e = ++clock;\n      }\n    } catch (err) {\n      stale = true;\n      _this.a = err;\n      _this.d |= HAS_ERROR;\n      _this.e = ++clock;\n    }\n    cleanup_context();\n    eval_context = prev_context;\n    eval_sources = prev_sources;\n    eval_sources_idx = prev_sources_idx;\n    _this.d &= ~RUNNING;\n    return stale;\n  }\n  /**\n   * @internal\n   * @param {Computed | Effect} target\n   */\n  j(target) {\n    let _this = this;\n    if (_this.f.length < 1) {\n      let sources = _this.b;\n      let len = sources.length;\n      let idx = 0;\n      _this.d |= TRACKING;\n      for (; idx < len; idx++) {\n        sources[idx].j(_this);\n      }\n    }\n    super.j(target);\n  }\n  /**\n   * @internal\n   * @param {Computed | Effect} target\n   */\n  g(target) {\n    let _this = this;\n    super.g(target);\n    if (_this.f.length < 1) {\n      let sources = _this.b;\n      let len = sources.length;\n      let idx = 0;\n      _this.d &= ~TRACKING;\n      for (; idx < len; idx++) {\n        sources[idx].g(_this);\n      }\n    }\n  }\n  /**\n   * @internal\n   */\n  k() {\n    let _this = this;\n    if (!(_this.d & (NOTIFIED | RUNNING))) {\n      let targets = _this.f;\n      let len = targets.length;\n      let idx = 0;\n      _this.d |= OUTDATED | NOTIFIED;\n      for (; idx < len; idx++) {\n        targets[idx].k();\n      }\n    }\n  }\n  peek() {\n    let _this = this;\n    _this.h();\n    if (_this.d & HAS_ERROR) {\n      throw _this.a;\n    }\n    return _this.a;\n  }\n  get value() {\n    let _this = this;\n    _this.h();\n    if (_this.d & HAS_ERROR) {\n      throw super.value;\n    }\n    return super.value;\n  }\n  set value(next) {\n    super.value = next;\n  }\n}\nclass Effect {\n  /**\n   * @param {() => void} compute\n   */\n  constructor(compute) {\n    let _this = this;\n    _this.l = compute;\n    _this.e = 0;\n    _this.b = [];\n    _this.d = TRACKING;\n    _this.c = 0;\n  }\n  /**\n   * @internal\n   */\n  m() {\n    let _this = this;\n    if (_this.d & RUNNING) {\n      return;\n    }\n    _this.e = clock;\n    _this.d |= RUNNING;\n    _this.d &= ~OUTDATED;\n    let prev_context = eval_context;\n    let prev_sources = eval_sources;\n    let prev_sources_idx = eval_sources_idx;\n    try {\n      start_batch();\n      eval_context = _this;\n      eval_sources = undefined$1;\n      eval_sources_idx = 0;\n      _this.l();\n    } finally {\n      cleanup_context();\n      eval_context = prev_context;\n      eval_sources = prev_sources;\n      eval_sources_idx = prev_sources_idx;\n      _this.d &= ~RUNNING;\n      if (_this.d & DISPOSED) {\n        dispose_effect(_this);\n      }\n      end_batch();\n    }\n  }\n  /**\n   * @internal\n   */\n  k() {\n    let _this = this;\n    if (!(_this.d & (NOTIFIED | RUNNING))) {\n      _this.d |= OUTDATED | NOTIFIED;\n      (batched_effects ||= []).push(_this);\n    }\n  }\n  /**\n   * @internal\n   */\n  o() {\n    let _this = this;\n    _this.d |= DISPOSED;\n    if (!(_this.d & RUNNING)) {\n      dispose_effect(_this);\n    }\n  }\n}\nclass Scope {\n  /**\n   * @param {boolean} [detached]\n   */\n  constructor(detached) {\n    let _this = this;\n    _this.scopes = [];\n    _this.cleanups = [];\n    _this.parent = undefined$1;\n    _this.c = 0;\n    if (!detached && eval_scope) {\n      _this.parent = eval_scope;\n      _this.c = eval_scope.c + 1;\n      eval_scope.scopes.push(_this);\n    }\n  }\n  /**\n   * @template {T}\n   * @param {() => T} callback\n   * @returns {T}\n   */\n  run(callback) {\n    let prev_scope = eval_scope;\n    try {\n      eval_scope = this;\n      return callback();\n    } finally {\n      eval_scope = prev_scope;\n    }\n  }\n  clear() {\n    let _this = this;\n    let scopes = _this.scopes;\n    let cleanups = _this.cleanups;\n    for (let scope2 of scopes) {\n      scope2.clear();\n      scope2.parent = undefined$1;\n    }\n    for (let cleanup2 of cleanups) {\n      cleanup2();\n    }\n    scopes.length = 0;\n    cleanups.length = 0;\n  }\n}\nfunction scope(detached) {\n  return new Scope(detached);\n}\nfunction cleanup(callback) {\n  if (is_function(callback) && eval_scope) {\n    eval_scope.cleanups.push(callback);\n  }\n}\nfunction batch(callback) {\n  if (batch_depth > 0) {\n    return callback();\n  }\n  start_batch();\n  try {\n    return callback();\n  } finally {\n    end_batch();\n  }\n}\nfunction untrack(callback) {\n  let prev_context = eval_context;\n  try {\n    eval_context = undefined$1;\n    return callback();\n  } finally {\n    eval_context = prev_context;\n  }\n}\nfunction peek(value) {\n  if (value instanceof Signal) {\n    return value.peek();\n  }\n  return value;\n}\nfunction signal(value) {\n  return new Signal(value);\n}\nfunction computed(compute) {\n  return new Computed(compute);\n}\nfunction effect(compute) {\n  let effect2 = new Effect(compute);\n  let dispose = effect2.o.bind(effect2);\n  try {\n    effect2.m();\n  } catch (error) {\n    dispose();\n    throw error;\n  }\n  if (eval_scope && effect2.b.length > 0) {\n    effect2.c = eval_scope.c;\n    eval_scope.cleanups.push(dispose);\n  }\n  return dispose;\n}\n\nlet ENABLE_RANDOM_TAGS = false;\nlet RANDOM_TAG = 1;\nfunction use_random_tags() {\n  ENABLE_RANDOM_TAGS = true;\n}\nlet curr_host = null;\nlet default_value = _Symbol();\nclass VelvetComponent extends HTMLElement {\n  // static $c: setup function\n  // static $a: attr to prop definition\n  // static $d: prop definitions\n  // static $s: stylesheets\n  /** is mounted */\n  $m = false;\n  /** scope instance */\n  $c = scope(true);\n  /** @type {Record<number, Signal>} props */\n  $p = {};\n  /** on mount hooks */\n  $h = [];\n  constructor() {\n    super();\n    let host = this;\n    let props = host.$p;\n    let definition = host.constructor.$d;\n    for (let prop2 in definition) {\n      let index = definition[prop2];\n      props[index] = signal(default_value);\n    }\n  }\n  connectedCallback() {\n    let host = this;\n    if (!host.$m) {\n      host.$m = true;\n      let setup = host.constructor.$c;\n      let styles = host.constructor.$s;\n      let instance = host.$c;\n      let hooks = host.$h;\n      let root = host.shadowRoot;\n      if (!root) {\n        root = host.attachShadow({ mode: \"open\" });\n        root.adoptedStyleSheets = styles;\n      }\n      let prev_host = curr_host;\n      try {\n        curr_host = host;\n        instance.run(() => setup(root, host));\n        for (let hook of hooks) {\n          let ret = hook();\n          if (is_function(ret)) {\n            instance.cleanups.push(ret);\n          }\n        }\n        hooks.length = 0;\n      } finally {\n        curr_host = prev_host;\n      }\n    }\n  }\n  disconnectedCallback() {\n    let host = this;\n    if (host.$m) {\n      host.$c.clear();\n      host.shadowRoot.innerHTML = \"\";\n      host.$m = false;\n    }\n  }\n  attributeChangedCallback(attr, prev, next) {\n    let host = this;\n    let mapping = host.constructor.$d;\n    if (attr in mapping) {\n      host.$p[mapping[attr]].value = next === \"\" ? true : next;\n    }\n  }\n}\nfunction define(tag, setup, definition, styles) {\n  let observed_attrs = [];\n  let attr_to_prop = _Object.create(null);\n  class Component extends VelvetComponent {\n    static observedAttributes = observed_attrs;\n    static $c = setup;\n    static $a = attr_to_prop;\n    static $d = definition;\n    static $s = styles;\n  }\n  for (let prop2 in definition) {\n    let index = definition[prop2];\n    let hyphen = hyphenate(prop2);\n    attr_to_prop[hyphen] = prop2;\n    observed_attrs.push(hyphen);\n    _Object.defineProperty(Component.prototype, prop2, {\n      /** @this VelvetComponent */\n      get() {\n        return this.$p[index].a;\n      },\n      /** @this VelvetComponent */\n      set(next) {\n        this.$p[index].value = next;\n      }\n    });\n  }\n  if (ENABLE_RANDOM_TAGS) {\n    tag = \"velvet-\" + RANDOM_TAG++;\n  }\n  if (tag) {\n    customElements.define(tag, Component);\n  }\n  return Component;\n}\nfunction css(text) {\n  const style = new CSSStyleSheet();\n  style.replaceSync(text);\n  return style;\n}\nfunction prop(index, value) {\n  let state = curr_host.$p[index];\n  if (state.value === default_value) {\n    state.value = is_function(value) ? value() : value;\n  }\n  return state;\n}\nfunction on_mount(fn) {\n  if (is_function(fn)) {\n    curr_host.$h.push(fn);\n  }\n}\nfunction event_dispatcher() {\n  let host = curr_host;\n  return (type, detail) => {\n    let event = new CustomEvent(type, { detail, bubbles: false });\n    host.dispatchEvent(event);\n  };\n}\nfunction bind(obj) {\n  assign(curr_host, obj);\n}\nfunction use(node, action, getter) {\n  let ref = getter && computed(getter);\n  let instance = action(node, ref && ref.value);\n  if (!instance) {\n    return;\n  }\n  if (is_function(instance.destroy)) {\n    cleanup(() => instance.destroy());\n  }\n  if (ref && ref.b && is_function(instance.update)) {\n    let init = false;\n    effect(() => {\n      let next = ref.value;\n      if (!init) {\n        init = true;\n        return;\n      }\n      instance.update(next);\n    });\n  }\n}\n\nfunction html(fragment, is_wrapped) {\n  let node = document.createElement(\"template\");\n  node.innerHTML = fragment;\n  if (is_wrapped) {\n    let content = node.content;\n    let wrapper = content.firstChild;\n    let child;\n    wrapper.remove();\n    while (child = wrapper.firstChild) {\n      content.appendChild(child);\n    }\n  }\n  return node;\n}\nfunction create(element) {\n  return document.createElement(element);\n}\nfunction clone(template) {\n  let fragment = document.importNode(template.content, true);\n  return fragment;\n}\n// @__NO_SIDE_EFFECTS__\nfunction first_child(node) {\n  return node.firstChild;\n}\n// @__NO_SIDE_EFFECTS__\nfunction next_sibling(node) {\n  return node.nextSibling;\n}\nfunction traverse(node, indices) {\n  let ref = node;\n  let i = 0;\n  let il = indices.length;\n  let x;\n  let j;\n  for (; i < il; i++) {\n    x = indices[i];\n    ref = ref.firstChild;\n    for (j = 0; j < x; j++) {\n      ref = ref.nextSibling;\n    }\n  }\n  return ref;\n}\nfunction replace(ref, node, adopt) {\n  ref.replaceWith(node);\n  if (adopt) {\n    let child;\n    while (child = ref.firstChild) {\n      node.appendChild(child);\n    }\n  }\n}\nfunction append(ref, node) {\n  ref.append(node);\n}\nfunction after(ref, node) {\n  ref.after(node);\n}\nfunction remove_parts(a, b) {\n  let node = a;\n  if (b.nextSibling === a) {\n    return;\n  }\n  while (node) {\n    let curr = node;\n    node = node.nextSibling;\n    curr.remove();\n    if (curr === b) {\n      break;\n    }\n  }\n}\nfunction on(node, type, listener, options) {\n  node.addEventListener(type, listener, options);\n}\nfunction toggle(node, name, value) {\n  node.toggleAttribute(name, value);\n}\nfunction attr(node, name, value) {\n  node.setAttribute(name, value);\n}\nfunction attr_ifdef(node, name, value) {\n  let map = node.$ifd || (node.$ifd = {});\n  let def = value != null;\n  if (def) {\n    attr(node, name, value);\n  } else if (map[name]) {\n    node.removeAttribute(name);\n  }\n  map[name] = def;\n}\nfunction class_toggle(node, name, value) {\n  node.classList.toggle(name, value);\n}\nfunction style_set(node, name, value) {\n  node.style.setProperty(name, value);\n}\nfunction get_checked_values(array, value, checked) {\n  let next = array.slice();\n  if (checked) {\n    next.push(value);\n    return next;\n  } else {\n    let index = array.indexOf(value);\n    if (index > -1) {\n      next.splice(index, 1);\n      return next;\n    }\n  }\n  return array;\n}\nfunction get_select_values(select) {\n  let multiple = select.multiple;\n  let array = [];\n  let selected = select.selectedOptions;\n  for (let i = 0, l = selected.length; i < l; i++) {\n    let option = selected[i];\n    array.push(option.value);\n  }\n  return multiple ? array : array[0];\n}\nfunction set_select_values(select, current) {\n  let multiple = select.multiple;\n  let options = select.options;\n  for (let i = 0, l = options.length; i < l; i++) {\n    let option = options[i];\n    let selected = multiple ? current.includes(option.value) : option.value === current;\n    option.selected = selected;\n    if (selected && !multiple) {\n      return;\n    }\n  }\n}\n\nlet event_name = \"context-request\";\nfunction provide(key, value) {\n  let listener = (event) => {\n    if (event.context === key) {\n      event.stopImmediatePropagation();\n      event.callback(value, null);\n    }\n  };\n  on(curr_host, event_name, listener);\n}\nfunction inject(key, def) {\n  let value = def;\n  let callback = (next, dispose) => {\n    dispose?.();\n    value = next;\n  };\n  let event = new ContextEvent(key, callback, false);\n  curr_host.dispatchEvent(event);\n  return value;\n}\nclass ContextEvent extends Event {\n  constructor(context, callback, multiple) {\n    super(event_name, { bubbles: true, composed: true });\n    this.context = context;\n    this.callback = callback;\n    this.multiple = multiple;\n  }\n}\n\nexport { create as A, clone as B, ContextEvent as C, first_child as D, next_sibling as E, traverse as F, append as G, after as H, on as I, toggle as J, attr as K, attr_ifdef as L, class_toggle as M, style_set as N, get_checked_values as O, get_select_values as P, set_select_values as Q, Computed as R, Scope as S, Effect as T, noop as U, VelvetComponent as V, hyphenate as W, assign as X, is_function as Y, to_number as Z, computed as a, batch as b, cleanup as c, effect as d, event_dispatcher as e, peek as f, Signal as g, signal as h, inject as i, untrack as j, eval_scope as k, remove_parts as l, is as m, curr_host as n, on_mount as o, provide as p, default_value as q, replace as r, scope as s, define as t, use_random_tags as u, css as v, prop as w, bind as x, use as y, html as z };\n", "import { d as effect, s as scope, k as eval_scope, h as signal, c as cleanup, b as batch, r as replace, l as remove_parts, m as is } from './context-65bd1d90.js';\nexport { R as Computed, C as ContextEvent, T as Effect, S as Scope, g as Signal, V as VelvetComponent, H as after, G as append, X as assign, K as attr, L as attr_ifdef, x as bind, M as class_toggle, B as clone, a as computed, A as create, v as css, n as curr_host, q as default_value, t as define, e as event_dispatcher, D as first_child, O as get_checked_values, P as get_select_values, z as html, W as hyphenate, i as inject, Y as is_function, E as next_sibling, U as noop, I as on, o as on_mount, f as peek, w as prop, p as provide, Q as set_select_values, N as style_set, Z as to_number, J as toggle, F as traverse, j as untrack, y as use, u as use_random_tags } from './context-65bd1d90.js';\n\nfunction text(marker, expression, insert) {\n  let node = document.createTextNode(\"\");\n  insert(marker, node);\n  effect(() => node.data = expression());\n}\nfunction show(marker, expression) {\n  let instance = scope();\n  let current;\n  let end;\n  effect(() => {\n    let block = expression();\n    if (block === current) {\n      return;\n    }\n    if (end) {\n      instance.clear();\n      destroy_block(marker, end);\n      end = null;\n    }\n    current = block;\n    if (!block) {\n      return;\n    }\n    end = instance.run(() => block(marker));\n  });\n}\nfunction each(marker, block, expression) {\n  let parts = [];\n  let depth = eval_scope.c + 1;\n  effect(() => {\n    let items = expression();\n    let index = 0;\n    let items_len = items.length;\n    let parts_len = parts.length;\n    for (; index < items_len; index++) {\n      if (parts[index]) {\n        let item = parts[index][2];\n        item.value = items[index];\n      } else {\n        let prev = parts[index - 1];\n        let start = prev ? prev[1] : marker;\n        let item = signal(items[index]);\n        let instance = scope(true);\n        instance.c = depth;\n        parts[index] = [instance, instance.run(() => block(start, item, index)), item];\n      }\n    }\n    if (parts_len > items_len) {\n      let prev = parts[index - 1];\n      let start = prev ? prev[1] : marker;\n      let end = parts[parts_len - 1][1];\n      for (; index < parts_len; index++) {\n        parts[index][0].clear();\n      }\n      destroy_block(start, end);\n      parts.length = items_len;\n    }\n  });\n  cleanup(() => {\n    for (let i = 0, l = parts.length; i < l; i++) {\n      let part = parts[i];\n      let instance = part[0];\n      instance.clear();\n    }\n  });\n}\nfunction promise(marker, pending, resolved, rejected, expression) {\n  let status = signal();\n  let result = signal();\n  let error = signal();\n  let curr;\n  let resolved_block = resolved && ((marker2) => resolved(marker2, result));\n  let rejected_block = rejected && ((marker2) => rejected(marker2, error));\n  effect(() => {\n    let key = curr = {};\n    status.value = 1;\n    result.value = null;\n    error.value = null;\n    try {\n      let promise2 = Promise.resolve(expression());\n      promise2.then(\n        (val) => {\n          if (curr === key) {\n            batch(() => {\n              status.value = 2;\n              result.value = val;\n            });\n          }\n        },\n        (err) => {\n          if (curr === key) {\n            batch(() => {\n              status.value = 3;\n              error.value = err;\n            });\n          }\n        }\n      );\n    } catch (err) {\n      status.value = 3;\n      error.value = err;\n    }\n  });\n  show(marker, () => {\n    let current = status.value;\n    return current === 1 ? pending : current === 2 ? resolved_block : current === 3 ? rejected_block : null;\n  });\n}\nfunction keyed(marker, block, expression) {\n  let init;\n  let curr;\n  let end;\n  let instance = scope();\n  effect(() => {\n    let next = expression();\n    if (init && is(next, curr)) {\n      return;\n    }\n    if (end) {\n      instance.clear();\n      destroy_block(marker, end);\n      end = null;\n    }\n    init = true;\n    curr = next;\n    end = instance.run(() => block(marker));\n  });\n}\nfunction dynamic(marker, block, expression) {\n  let host = marker;\n  let instance = scope();\n  let current;\n  effect(() => {\n    let next = expression();\n    if (next === current) {\n      return;\n    }\n    current = next;\n    instance.clear();\n    replace(host, host = next ? instance.run(() => block(next)) : marker, false);\n  });\n}\nfunction destroy_block(marker, end) {\n  remove_parts(marker.nextSibling, end);\n}\n\nexport { batch, cleanup, dynamic, each, effect, eval_scope, is, keyed, promise, remove_parts, replace, scope, show, signal, text };\n", "import {signal, computed, effect, html, clone, first_child, next_sibling, on, after, class_toggle, text, replace, show, each, append, define} from \"@intrnl/velvet/internal\";\nlet template0 = html(\"<header class=header><h1>todos</h1><input class=new-todo placeholder='What needs to be done?'autofocus></header>\");\nlet template1 = html(\"<section class=main><input id=toggle-all class=toggle-all type=checkbox><label for=toggle-all>Mark all as complete</label><ul class=todo-list><!></ul><footer class=footer><span class=todo-count> <strong></strong> <!> left </span><ul class=filters><li><a href=#/>All</a></li><li><a href=#/active>Active</a></li><li><a href=#/completed>Completed</a></li></ul></footer></section>\");\nlet template2 = html(\"<li class=todo><div class=view><input class=toggle type=checkbox><label><!></label><button class=destroy></button></div> <!></li>\");\nlet template3 = html(\"<input class=edit>\");\nlet template4 = html(\"<button class=clear-completed>Clear completed</button>\");\nfunction setup($$root, $$host) {\n  const ENTER_KEY = 13;\n  const ESCAPE_KEY = 27;\n  const STORAGE_KEY = 'todos';\n  const filters = {\n    all: items => items,\n    active: items => items.filter(item => !item.completed),\n    completed: items => items.filter(item => item.completed)\n  };\n  let items = signal(JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'));\n  let visibility = signal('all');\n  let editing = signal(null);\n  let editing_ref = signal(null);\n  let filtered_items = computed(() => filters[visibility.value](items.value));\n  let remaining = computed(() => filters.active(items.value).length);\n  const toggle_all = event => {\n    items.value = items.value.map(item => ({\n      ...item,\n      completed: event.target.checked\n    }));\n  };\n  const clear_completed = () => {\n    items.value = items.value.filter(item => !item.completed);\n  };\n  const add_todo = event => {\n    if (event.which === ENTER_KEY) {\n      items.value = items.value.concat({\n        id: Date.now(),\n        title: event.target.value,\n        completed: false\n      });\n      event.target.value = '';\n    }\n  };\n  const remove_todo = id => {\n    items.value = items.value.filter(item => item.id !== id);\n  };\n  const edit_todo = next => {\n    items.value = items.value.map(item => {\n      if (item.id !== next.id) return item;\n      return {\n        ...item,\n        ...next\n      };\n    });\n  };\n  const toggle_todo = (id, event) => {\n    edit_todo({\n      id,\n      completed: event.target.checked\n    });\n  };\n  const handle_edit = event => {\n    if (event.which === ENTER_KEY) {\n      event.target.blur();\n    } else if (event.which === ESCAPE_KEY) {\n      editing.value = null;\n      editing_ref.value = null;\n    }\n  };\n  const handle_submit = event => {\n    edit_todo({\n      id: editing.value,\n      title: event.target.value\n    });\n    editing.value = null;\n    editing_ref.value = null;\n  };\n  const update_view = () => {\n    let route = window.location.hash.replace(/#\\/?/, '');\n    if (!filters[route]) {\n      route = 'all';\n    }\n    visibility.value = route;\n  };\n  window.addEventListener('hashchange', update_view);\n  update_view();\n  effect(() => localStorage.setItem(STORAGE_KEY, JSON.stringify(items.value)));\n  effect(() => {\n    if (editing_ref.value) setTimeout(() => editing_ref.value.focus());\n  });\n  let fragment0 = clone(template0);\n  let child0 = first_child(fragment0);\n  let child1 = first_child(child0);\n  let child2 = first_child(child1);\n  let child3 = next_sibling(child1);\n  let block1 = $$root => {\n    let fragment1 = clone(template1);\n    let child4 = first_child(fragment1);\n    let child5 = first_child(child4);\n    let child6 = next_sibling(child5);\n    let child7 = first_child(child6);\n    let child8 = next_sibling(child6);\n    let child18 = first_child(child8);\n    let child19 = next_sibling(child8);\n    let child20 = first_child(child19);\n    let child21 = first_child(child20);\n    let child22 = next_sibling(child21);\n    let child23 = next_sibling(child22);\n    let child24 = next_sibling(child23);\n    let child25 = next_sibling(child24);\n    let child26 = next_sibling(child20);\n    let child27 = first_child(child26);\n    let child28 = first_child(child27);\n    let child29 = first_child(child28);\n    let child30 = next_sibling(child27);\n    let child31 = first_child(child30);\n    let child32 = first_child(child31);\n    let child33 = next_sibling(child30);\n    let child34 = first_child(child33);\n    let child35 = first_child(child34);\n    let block2 = ($$root, item) => {\n      let fragment2 = clone(template2);\n      let child9 = first_child(fragment2);\n      let child10 = first_child(child9);\n      let child11 = first_child(child10);\n      let child12 = next_sibling(child11);\n      let child13 = first_child(child12);\n      let child14 = next_sibling(child12);\n      let child15 = next_sibling(child10);\n      let child17 = next_sibling(child15);\n      let block3 = $$root => {\n        let fragment3 = clone(template3);\n        let child16 = first_child(fragment3);\n        editing_ref.value = child16;\n        effect(() => child16[\"value\"] = item.value.title);\n        on(child16, \"keydown\", handle_edit);\n        on(child16, \"blur\", handle_submit);\n        after($$root, fragment3);\n        return child16;\n      };\n      effect(() => class_toggle(child9, \"completed\", item.value.completed));\n      effect(() => class_toggle(child9, \"editing\", editing.value === item.value.id));\n      effect(() => child11[\"checked\"] = item.value.completed);\n      on(child11, \"change\", event => toggle_todo(item.value.id, event));\n      on(child12, \"dblclick\", () => editing.value = item.value.id);\n      text(child13, () => item.value.title, replace);\n      on(child14, \"click\", () => remove_todo(item.value.id));\n      show(child17, () => editing.value === item.value.id ? block3 : null);\n      after($$root, fragment2);\n      return child9;\n    };\n    let block4 = $$root => {\n      let fragment4 = clone(template4);\n      let child36 = first_child(fragment4);\n      let child37 = first_child(child36);\n      on(child36, \"click\", clear_completed);\n      after($$root, fragment4);\n      return child36;\n    };\n    effect(() => child5[\"checked\"] = remaining.value === 0);\n    on(child5, \"change\", toggle_all);\n    each(child18, block2, () => filtered_items.value);\n    text(child22, () => remaining.value, append);\n    text(child24, () => remaining.value === 1 ? 'item' : 'items', replace);\n    effect(() => class_toggle(child28, \"selected\", visibility.value === 'all'));\n    effect(() => class_toggle(child31, \"selected\", visibility.value === 'active'));\n    effect(() => class_toggle(child34, \"selected\", visibility.value === 'completed'));\n    show(child26, () => items.value.length > remaining.value ? block4 : null);\n    after($$root, fragment1);\n    return child4;\n  };\n  on(child3, \"keydown\", add_todo);\n  show(child0, () => items.value.length > 0 ? block1 : null);\n  append($$root, fragment0);\n}\nexport default define(\"x-app\", setup, {}, []);\n", "import App from './App.velvet';\nimport './style.css';\n\n// we don't want the Shadow DOM to be in our way here, have `attachShadow`\n// return itself instead of creating a shadow root.\n// there isn't any specific reasons why other than making it easier to mess\n// around like in the cases of benchmark automation.\nApp.prototype.attachShadow = function () {\n\treturn this;\n};\n\nconst app = new App();\ndocument.body.append(app);\n"],
  "mappings": "AAAA,IAAIA,EAAU,OACVC,GAAU,OAEVC,GAAe,aAGnB,SAASC,GAAUC,EAAK,CACtB,OAAOA,EAAI,QAAQC,GAAc,KAAK,EAAE,YAAY,CACtD,CACA,IAAIC,GAAKC,EAAQ,GACbC,GAASD,EAAQ,OACjBE,GAAeC,GAAM,OAAOA,GAAM,WAKtC,IAAIC,EACAC,EAAU,EACVC,EAAW,EACXC,EAAW,EACXC,GAAW,EACXC,EAAY,GACZC,EAAW,GACXC,GAAa,CAACC,EAAGC,IAAMD,EAAE,EAAIC,EAAE,EAC/BC,EACAC,EACAC,EACAC,EAAmB,EACnBC,EACAC,EAAc,EACdC,GAAkB,EAClBC,EAAQ,EACZ,SAASC,IAAc,CACrBH,GACF,CACA,SAASI,IAAY,CACnB,GAAIJ,EAAc,EAAG,CACnBA,IACA,MACF,CACA,IAAIK,EACAC,EAAY,GAChB,KAAOP,GAAiB,CACtB,IAAIQ,EAAUR,EAAgB,KAAKP,EAAU,EACzCgB,EAAM,EACNC,EAAMF,EAAQ,OAGlB,IAFAR,EAAkBd,EAClBgB,KACOO,EAAMC,EAAKD,IAAO,CACvB,IAAIE,EAAUH,EAAQC,CAAG,EAEzB,GADAE,EAAQ,GAAK,CAACvB,EACV,EAAEuB,EAAQ,EAAIrB,KAAasB,GAAeD,CAAO,EACnD,GAAI,CACFA,EAAQ,EAAE,CACZ,OAASE,EAAK,CACPN,IACHD,EAAQO,EACRN,EAAY,GAEhB,CAEJ,CACF,CAGA,GAFAL,GAAkB,EAClBD,IACIM,EACF,MAAMD,CAEV,CACA,SAASM,GAAeE,EAAQ,CAC9B,IAAIC,EAAUD,EAAO,EACjBJ,EAAMK,EAAQ,OACdN,EAAM,EACNO,EACJ,KAAOP,EAAMC,EAAKD,IAEhB,GADAO,EAASD,EAAQN,CAAG,EAChBO,EAAO,EAAIF,EAAO,GAAKE,EAAO,EAAE,EAClC,MAAO,GAGX,MAAO,EACT,CACA,SAASC,IAAkB,CACzB,IAAIF,EAAUlB,EAAa,EAC3B,GAAIC,EAAc,CAEhB,GADAoB,GAAsB,EAClBnB,EAAmB,EAAG,CACxB,IAAI,EAAID,EAAa,OACjBqB,EAAI,EAER,IADAJ,EAAQ,OAAShB,EAAmB,EAC7BoB,EAAI,EAAGA,IACZJ,EAAQhB,EAAmBoB,CAAC,EAAIrB,EAAaqB,CAAC,CAElD,MACEJ,EAAUlB,EAAa,EAAIC,EAE7B,IAAIY,EAAMK,EAAQ,OACdN,EAAMV,EACV,KAAOU,EAAMC,EAAKD,IAAO,CACvB,IAAIO,EAASD,EAAQN,CAAG,EACxBO,EAAO,EAAI9B,EACPW,EAAa,EAAIL,GACnBwB,EAAO,EAAEnB,CAAY,CAEzB,CACF,MAAWE,EAAmBF,EAAa,EAAE,SAC3CqB,GAAsB,EACtBH,EAAQ,OAAShB,GAEnB,KAAOA,KAAoB,CACzB,IAAIiB,EAASD,EAAQhB,CAAgB,EACrCiB,EAAO,EAAI9B,CACb,CACF,CACA,SAASgC,IAAwB,CAC/B,IAAIH,EAAUlB,EAAa,EACvBa,EAAMK,EAAQ,OACdN,EAAMV,EACV,KAAOU,EAAMC,EAAKD,IACHM,EAAQN,CAAG,EACjB,EAAEZ,CAAY,CAEzB,CACA,SAASuB,GAAeT,EAAS,CAC/B,IAAII,EAAUJ,EAAQ,EAClBD,EAAMK,EAAQ,OACdN,EAAM,EACV,KAAOA,EAAMC,EAAKD,IAChBM,EAAQN,CAAG,EAAE,EAAEE,CAAO,EAExBI,EAAQ,OAAS,CACnB,CACA,IAAMM,EAAN,KAAa,CAIX,YAAYC,EAAO,CACjB,IAAIC,EAAQ,KACZA,EAAM,EAAID,EACVC,EAAM,EAAI,GACVA,EAAM,EAAI,CAAC,EACXA,EAAM,EAAIrC,CACZ,CAKA,GAAI,CACF,MAAO,EACT,CAKA,EAAE4B,EAAQ,CACI,KACN,EAAE,KAAKA,CAAM,CACrB,CAKA,EAAEA,EAAQ,CAER,IAAIU,EADQ,KACQ,EAChBf,EAAMe,EAAQ,QAAQV,CAAM,EAChCU,EAAQ,OAAOf,EAAK,CAAC,CACvB,CAIA,MAAO,CAEL,OADY,KACC,CACf,CAEA,IAAI,OAAQ,CACV,IAAIc,EAAQ,KACZ,OAAI1B,GAAgB0B,EAAM,IAAM1B,IAC9B0B,EAAM,EAAI1B,EACLC,EAOHA,EAAa,KAAKyB,CAAK,EANnB1B,EAAa,EAAEE,CAAgB,IAAMwB,EACvCxB,IAEAD,EAAe,CAACyB,CAAK,GAMpBA,EAAM,CACf,CACA,IAAI,MAAME,EAAM,CACd,IAAIF,EAAQ,KACZ,GAAIA,EAAM,IAAME,IACdF,EAAM,EAAIE,EACVF,EAAM,EAAI,EAAEpB,EACRD,GAAkB,KAAK,CACzB,IAAIsB,EAAUD,EAAM,EAChBb,EAAMc,EAAQ,OACdf,EAAM,EAEV,IADAL,GAAY,EACLK,EAAMC,EAAKD,IAChBe,EAAQf,CAAG,EAAE,EAAE,EAEjBJ,GAAU,CACZ,CAEJ,CACF,EACMqB,EAAN,cAAuBL,CAAO,CAI5B,YAAYM,EAAS,CACnB,MAAM,EACN,IAAIJ,EAAQ,KACZA,EAAM,EAAII,EACVJ,EAAM,EAAI,CAAC,EACXA,EAAM,EAAIlC,EACVkC,EAAM,EAAI,EACZ,CAKA,GAAI,CACF,IAAIA,EAAQ,KASZ,GARAA,EAAM,GAAK,CAACnC,EACRmC,EAAM,EAAIpC,IAGToC,EAAM,GAAKlC,EAAWG,MAAeA,IAG1C+B,EAAM,GAAK,CAAClC,EACRkC,EAAM,IAAMpB,GACd,MAAO,GAIT,GAFAoB,EAAM,EAAIpB,EACVoB,EAAM,GAAKpC,EACPoC,EAAM,EAAI,IAAM,CAACX,GAAeW,CAAK,EACvC,OAAAA,EAAM,GAAK,CAACpC,EACL,GAET,IAAIyC,EAAQ,GACRC,EAAehC,EACfiC,EAAehC,EACfiC,EAAmBhC,EACvB,GAAI,CACFF,EAAe0B,EACfzB,EAAeZ,EACfa,EAAmB,EACnB,IAAIuB,EAAQC,EAAM,EAAE,GAChBA,EAAM,EAAIhC,GAAagC,EAAM,IAAMD,GAASC,EAAM,IAAM,MAC1DK,EAAQ,GACRL,EAAM,EAAID,EACVC,EAAM,GAAK,CAAChC,EACZgC,EAAM,EAAI,EAAEpB,EAEhB,OAASU,EAAK,CACZe,EAAQ,GACRL,EAAM,EAAIV,EACVU,EAAM,GAAKhC,EACXgC,EAAM,EAAI,EAAEpB,CACd,CACA,OAAAc,GAAgB,EAChBpB,EAAegC,EACf/B,EAAegC,EACf/B,EAAmBgC,EACnBR,EAAM,GAAK,CAACpC,EACLyC,CACT,CAKA,EAAEd,EAAQ,CACR,IAAIS,EAAQ,KACZ,GAAIA,EAAM,EAAE,OAAS,EAAG,CACtB,IAAIR,EAAUQ,EAAM,EAChBb,EAAMK,EAAQ,OACdN,EAAM,EAEV,IADAc,EAAM,GAAK/B,EACJiB,EAAMC,EAAKD,IAChBM,EAAQN,CAAG,EAAE,EAAEc,CAAK,CAExB,CACA,MAAM,EAAET,CAAM,CAChB,CAKA,EAAEA,EAAQ,CACR,IAAIS,EAAQ,KAEZ,GADA,MAAM,EAAET,CAAM,EACVS,EAAM,EAAE,OAAS,EAAG,CACtB,IAAIR,EAAUQ,EAAM,EAChBb,EAAMK,EAAQ,OACdN,EAAM,EAEV,IADAc,EAAM,GAAK,CAAC/B,EACLiB,EAAMC,EAAKD,IAChBM,EAAQN,CAAG,EAAE,EAAEc,CAAK,CAExB,CACF,CAIA,GAAI,CACF,IAAIA,EAAQ,KACZ,GAAI,EAAEA,EAAM,GAAKnC,EAAWD,IAAW,CACrC,IAAIqC,EAAUD,EAAM,EAChBb,EAAMc,EAAQ,OACdf,EAAM,EAEV,IADAc,EAAM,GAAKlC,EAAWD,EACfqB,EAAMC,EAAKD,IAChBe,EAAQf,CAAG,EAAE,EAAE,CAEnB,CACF,CACA,MAAO,CACL,IAAIc,EAAQ,KAEZ,GADAA,EAAM,EAAE,EACJA,EAAM,EAAIhC,EACZ,MAAMgC,EAAM,EAEd,OAAOA,EAAM,CACf,CACA,IAAI,OAAQ,CACV,IAAIA,EAAQ,KAEZ,GADAA,EAAM,EAAE,EACJA,EAAM,EAAIhC,EACZ,MAAM,MAAM,MAEd,OAAO,MAAM,KACf,CACA,IAAI,MAAMkC,EAAM,CACd,MAAM,MAAQA,CAChB,CACF,EACMO,EAAN,KAAa,CAIX,YAAYL,EAAS,CACnB,IAAIJ,EAAQ,KACZA,EAAM,EAAII,EACVJ,EAAM,EAAI,EACVA,EAAM,EAAI,CAAC,EACXA,EAAM,EAAI/B,EACV+B,EAAM,EAAI,CACZ,CAIA,GAAI,CACF,IAAIA,EAAQ,KACZ,GAAIA,EAAM,EAAIpC,EACZ,OAEFoC,EAAM,EAAIpB,EACVoB,EAAM,GAAKpC,EACXoC,EAAM,GAAK,CAAClC,EACZ,IAAIwC,EAAehC,EACfiC,EAAehC,EACfiC,EAAmBhC,EACvB,GAAI,CACFK,GAAY,EACZP,EAAe0B,EACfzB,EAAeZ,EACfa,EAAmB,EACnBwB,EAAM,EAAE,CACV,QAAE,CACAN,GAAgB,EAChBpB,EAAegC,EACf/B,EAAegC,EACf/B,EAAmBgC,EACnBR,EAAM,GAAK,CAACpC,EACRoC,EAAM,EAAIjC,IACZ8B,GAAeG,CAAK,EAEtBlB,GAAU,CACZ,CACF,CAIA,GAAI,CACF,IAAIkB,EAAQ,KACNA,EAAM,GAAKnC,EAAWD,KAC1BoC,EAAM,GAAKlC,EAAWD,GACrBY,IAAoB,CAAC,GAAG,KAAKuB,CAAK,EAEvC,CAIA,GAAI,CACF,IAAIA,EAAQ,KACZA,EAAM,GAAKjC,GACLiC,EAAM,EAAIpC,GACdiC,GAAeG,CAAK,CAExB,CACF,EACMU,EAAN,KAAY,CAIV,YAAYC,EAAU,CACpB,IAAIX,EAAQ,KACZA,EAAM,OAAS,CAAC,EAChBA,EAAM,SAAW,CAAC,EAClBA,EAAM,OAASrC,EACfqC,EAAM,EAAI,EACN,CAACW,GAAYtC,IACf2B,EAAM,OAAS3B,EACf2B,EAAM,EAAI3B,EAAW,EAAI,EACzBA,EAAW,OAAO,KAAK2B,CAAK,EAEhC,CAMA,IAAIY,EAAU,CACZ,IAAIC,EAAaxC,EACjB,GAAI,CACF,OAAAA,EAAa,KACNuC,EAAS,CAClB,QAAE,CACAvC,EAAawC,CACf,CACF,CACA,OAAQ,CACN,IAAIb,EAAQ,KACRc,EAASd,EAAM,OACfe,EAAWf,EAAM,SACrB,QAASgB,KAAUF,EACjBE,EAAO,MAAM,EACbA,EAAO,OAASrD,EAElB,QAASsD,KAAYF,EACnBE,EAAS,EAEXH,EAAO,OAAS,EAChBC,EAAS,OAAS,CACpB,CACF,EACA,SAASG,EAAMP,EAAU,CACvB,OAAO,IAAID,EAAMC,CAAQ,CAC3B,CACA,SAASQ,GAAQP,EAAU,CACrBQ,GAAYR,CAAQ,GAAKvC,GAC3BA,EAAW,SAAS,KAAKuC,CAAQ,CAErC,CA2BA,SAASS,EAAOC,EAAO,CACrB,OAAO,IAAIC,EAAOD,CAAK,CACzB,CACA,SAASE,EAASC,EAAS,CACzB,OAAO,IAAIC,EAASD,CAAO,CAC7B,CACA,SAASE,EAAOF,EAAS,CACvB,IAAIG,EAAU,IAAIC,EAAOJ,CAAO,EAC5BK,EAAUF,EAAQ,EAAE,KAAKA,CAAO,EACpC,GAAI,CACFA,EAAQ,EAAE,CACZ,OAASG,EAAO,CACd,MAAAD,EAAQ,EACFC,CACR,CACA,OAAIC,GAAcJ,EAAQ,EAAE,OAAS,IACnCA,EAAQ,EAAII,EAAW,EACvBA,EAAW,SAAS,KAAKF,CAAO,GAE3BA,CACT,CAEA,IAAIG,GAAqB,GACrBC,GAAa,EAIjB,IAAIC,EAAY,KACZC,GAAgBC,GAAQ,EACtBC,EAAN,cAA8B,WAAY,CAMxC,GAAK,GAEL,GAAKC,EAAM,EAAI,EAEf,GAAK,CAAC,EAEN,GAAK,CAAC,EACN,aAAc,CACZ,MAAM,EACN,IAAIC,EAAO,KACPC,EAAQD,EAAK,GACbE,EAAaF,EAAK,YAAY,GAClC,QAASG,KAASD,EAAY,CAC5B,IAAIE,EAAQF,EAAWC,CAAK,EAC5BF,EAAMG,CAAK,EAAIC,EAAOT,EAAa,CACrC,CACF,CACA,mBAAoB,CAClB,IAAII,EAAO,KACX,GAAI,CAACA,EAAK,GAAI,CACZA,EAAK,GAAK,GACV,IAAIM,EAAQN,EAAK,YAAY,GACzBO,EAASP,EAAK,YAAY,GAC1BQ,EAAWR,EAAK,GAChBS,EAAQT,EAAK,GACbU,EAAOV,EAAK,WACXU,IACHA,EAAOV,EAAK,aAAa,CAAE,KAAM,MAAO,CAAC,EACzCU,EAAK,mBAAqBH,GAE5B,IAAII,EAAYhB,EAChB,GAAI,CACFA,EAAYK,EACZQ,EAAS,IAAI,IAAMF,EAAMI,EAAMV,CAAI,CAAC,EACpC,QAASY,KAAQH,EAAO,CACtB,IAAII,EAAMD,EAAK,EACXE,GAAYD,CAAG,GACjBL,EAAS,SAAS,KAAKK,CAAG,CAE9B,CACAJ,EAAM,OAAS,CACjB,QAAE,CACAd,EAAYgB,CACd,CACF,CACF,CACA,sBAAuB,CACrB,IAAIX,EAAO,KACPA,EAAK,KACPA,EAAK,GAAG,MAAM,EACdA,EAAK,WAAW,UAAY,GAC5BA,EAAK,GAAK,GAEd,CACA,yBAAyBe,EAAMC,EAAMC,EAAM,CACzC,IAAIjB,EAAO,KACPkB,EAAUlB,EAAK,YAAY,GAC3Be,KAAQG,IACVlB,EAAK,GAAGkB,EAAQH,CAAI,CAAC,EAAE,MAAQE,IAAS,GAAK,GAAOA,EAExD,CACF,EACA,SAASE,GAAOC,EAAKd,EAAOJ,EAAYK,EAAQ,CAC9C,IAAIc,EAAiB,CAAC,EAClBC,EAAeC,EAAQ,OAAO,IAAI,EACtC,MAAMC,UAAkB1B,CAAgB,CACtC,OAAO,mBAAqBuB,EAC5B,OAAO,GAAKf,EACZ,OAAO,GAAKgB,EACZ,OAAO,GAAKpB,EACZ,OAAO,GAAKK,CACd,CACA,QAASJ,KAASD,EAAY,CAC5B,IAAIE,EAAQF,EAAWC,CAAK,EACxBsB,EAASC,GAAUvB,CAAK,EAC5BmB,EAAaG,CAAM,EAAItB,EACvBkB,EAAe,KAAKI,CAAM,EAC1BF,EAAQ,eAAeC,EAAU,UAAWrB,EAAO,CAEjD,KAAM,CACJ,OAAO,KAAK,GAAGC,CAAK,EAAE,CACxB,EAEA,IAAIa,EAAM,CACR,KAAK,GAAGb,CAAK,EAAE,MAAQa,CACzB,CACF,CAAC,CACH,CACA,OAAIU,KACFP,EAAM,UAAYQ,MAEhBR,GACF,eAAe,OAAOA,EAAKI,CAAS,EAE/BA,CACT,CAkDA,SAASK,EAAKC,EAAUC,EAAY,CAClC,IAAIC,EAAO,SAAS,cAAc,UAAU,EAE5C,GADAA,EAAK,UAAYF,EACbC,EAAY,CACd,IAAIE,EAAUD,EAAK,QACfE,EAAUD,EAAQ,WAClBE,EAEJ,IADAD,EAAQ,OAAO,EACRC,EAAQD,EAAQ,YACrBD,EAAQ,YAAYE,CAAK,CAE7B,CACA,OAAOH,CACT,CAIA,SAASI,EAAMC,EAAU,CAEvB,OADe,SAAS,WAAWA,EAAS,QAAS,EAAI,CAE3D,CAEA,SAASC,EAAYC,EAAM,CACzB,OAAOA,EAAK,UACd,CAEA,SAASC,EAAaD,EAAM,CAC1B,OAAOA,EAAK,WACd,CAgBA,SAASE,EAAQC,EAAKC,EAAMC,EAAO,CAEjC,GADAF,EAAI,YAAYC,CAAI,EAChBC,EAAO,CACT,IAAIC,EACJ,KAAOA,EAAQH,EAAI,YACjBC,EAAK,YAAYE,CAAK,CAE1B,CACF,CACA,SAASC,EAAOJ,EAAKC,EAAM,CACzBD,EAAI,OAAOC,CAAI,CACjB,CACA,SAASI,EAAML,EAAKC,EAAM,CACxBD,EAAI,MAAMC,CAAI,CAChB,CACA,SAASK,GAAaC,EAAGC,EAAG,CAC1B,IAAIP,EAAOM,EACX,GAAIC,EAAE,cAAgBD,EAGtB,KAAON,GAAM,CACX,IAAIQ,EAAOR,EAGX,GAFAA,EAAOA,EAAK,YACZQ,EAAK,OAAO,EACRA,IAASD,EACX,KAEJ,CACF,CACA,SAASE,EAAGT,EAAMU,EAAMC,EAAUC,EAAS,CACzCZ,EAAK,iBAAiBU,EAAMC,EAAUC,CAAO,CAC/C,CAiBA,SAASC,EAAaC,EAAMC,EAAMC,EAAO,CACvCF,EAAK,UAAU,OAAOC,EAAMC,CAAK,CACnC,CCrvBA,SAASC,EAAKC,EAAQC,EAAYC,EAAQ,CACxC,IAAIC,EAAO,SAAS,eAAe,EAAE,EACrCD,EAAOF,EAAQG,CAAI,EACnBC,EAAO,IAAMD,EAAK,KAAOF,EAAW,CAAC,CACvC,CACA,SAASI,EAAKL,EAAQC,EAAY,CAChC,IAAIK,EAAWC,EAAM,EACjBC,EACAC,EACJL,EAAO,IAAM,CACX,IAAIM,EAAQT,EAAW,EACnBS,IAAUF,IAGVC,IACFH,EAAS,MAAM,EACfK,GAAcX,EAAQS,CAAG,EACzBA,EAAM,MAERD,EAAUE,EACLA,IAGLD,EAAMH,EAAS,IAAI,IAAMI,EAAMV,CAAM,CAAC,GACxC,CAAC,CACH,CACA,SAASY,GAAKZ,EAAQU,EAAOT,EAAY,CACvC,IAAIY,EAAQ,CAAC,EACTC,EAAQC,EAAW,EAAI,EAC3BX,EAAO,IAAM,CACX,IAAIY,EAAQf,EAAW,EACnBgB,EAAQ,EACRC,EAAYF,EAAM,OAClBG,EAAYN,EAAM,OACtB,KAAOI,EAAQC,EAAWD,IACxB,GAAIJ,EAAMI,CAAK,EAAG,CAChB,IAAIG,EAAOP,EAAMI,CAAK,EAAE,CAAC,EACzBG,EAAK,MAAQJ,EAAMC,CAAK,CAC1B,KAAO,CACL,IAAII,EAAOR,EAAMI,EAAQ,CAAC,EACtBK,EAAQD,EAAOA,EAAK,CAAC,EAAIrB,EACzBoB,EAAOG,EAAOP,EAAMC,CAAK,CAAC,EAC1BX,EAAWC,EAAM,EAAI,EACzBD,EAAS,EAAIQ,EACbD,EAAMI,CAAK,EAAI,CAACX,EAAUA,EAAS,IAAI,IAAMI,EAAMY,EAAOF,EAAMH,CAAK,CAAC,EAAGG,CAAI,CAC/E,CAEF,GAAID,EAAYD,EAAW,CACzB,IAAIG,EAAOR,EAAMI,EAAQ,CAAC,EACtBK,EAAQD,EAAOA,EAAK,CAAC,EAAIrB,EACzBS,EAAMI,EAAMM,EAAY,CAAC,EAAE,CAAC,EAChC,KAAOF,EAAQE,EAAWF,IACxBJ,EAAMI,CAAK,EAAE,CAAC,EAAE,MAAM,EAExBN,GAAcW,EAAOb,CAAG,EACxBI,EAAM,OAASK,CACjB,CACF,CAAC,EACDM,GAAQ,IAAM,CACZ,QAASC,EAAI,EAAGC,EAAIb,EAAM,OAAQY,EAAIC,EAAGD,IAC5BZ,EAAMY,CAAC,EACE,CAAC,EACZ,MAAM,CAEnB,CAAC,CACH,CA6EA,SAASE,GAAcC,EAAQC,EAAK,CAClCC,GAAaF,EAAO,YAAaC,CAAG,CACtC,CClJA,IAAIE,GAAYC,EAAK,kHAAkH,EACnIC,GAAYD,EAAK,0XAA0X,EAC3YE,GAAYF,EAAK,mIAAmI,EACpJG,GAAYH,EAAK,oBAAoB,EACrCI,GAAYJ,EAAK,wDAAwD,EAC7E,SAASK,GAAMC,EAAQC,EAAQ,CAG7B,IAAMC,EAAc,QACdC,EAAU,CACd,IAAKC,GAASA,EACd,OAAQA,GAASA,EAAM,OAAOC,GAAQ,CAACA,EAAK,SAAS,EACrD,UAAWD,GAASA,EAAM,OAAOC,GAAQA,EAAK,SAAS,CACzD,EACID,EAAQE,EAAO,KAAK,MAAM,aAAa,QAAQJ,CAAW,GAAK,IAAI,CAAC,EACpEK,EAAaD,EAAO,KAAK,EACzBE,EAAUF,EAAO,IAAI,EACrBG,EAAcH,EAAO,IAAI,EACzBI,EAAiBC,EAAS,IAAMR,EAAQI,EAAW,KAAK,EAAEH,EAAM,KAAK,CAAC,EACtEQ,EAAYD,EAAS,IAAMR,EAAQ,OAAOC,EAAM,KAAK,EAAE,MAAM,EAC3DS,EAAaC,GAAS,CAC1BV,EAAM,MAAQA,EAAM,MAAM,IAAIC,IAAS,CACrC,GAAGA,EACH,UAAWS,EAAM,OAAO,OAC1B,EAAE,CACJ,EACMC,GAAkB,IAAM,CAC5BX,EAAM,MAAQA,EAAM,MAAM,OAAOC,GAAQ,CAACA,EAAK,SAAS,CAC1D,EACMW,GAAWF,GAAS,CACpBA,EAAM,QAAU,KAClBV,EAAM,MAAQA,EAAM,MAAM,OAAO,CAC/B,GAAI,KAAK,IAAI,EACb,MAAOU,EAAM,OAAO,MACpB,UAAW,EACb,CAAC,EACDA,EAAM,OAAO,MAAQ,GAEzB,EACMG,GAAcC,GAAM,CACxBd,EAAM,MAAQA,EAAM,MAAM,OAAOC,GAAQA,EAAK,KAAOa,CAAE,CACzD,EACMC,GAAYC,GAAQ,CACxBhB,EAAM,MAAQA,EAAM,MAAM,IAAIC,GACxBA,EAAK,KAAOe,EAAK,GAAWf,EACzB,CACL,GAAGA,EACH,GAAGe,CACL,CACD,CACH,EACMC,GAAc,CAACH,EAAIJ,IAAU,CACjCK,GAAU,CACR,GAAAD,EACA,UAAWJ,EAAM,OAAO,OAC1B,CAAC,CACH,EACMQ,GAAcR,GAAS,CACvBA,EAAM,QAAU,GAClBA,EAAM,OAAO,KAAK,EACTA,EAAM,QAAU,KACzBN,EAAQ,MAAQ,KAChBC,EAAY,MAAQ,KAExB,EACMc,GAAgBT,GAAS,CAC7BK,GAAU,CACR,GAAIX,EAAQ,MACZ,MAAOM,EAAM,OAAO,KACtB,CAAC,EACDN,EAAQ,MAAQ,KAChBC,EAAY,MAAQ,IACtB,EACMe,GAAc,IAAM,CACxB,IAAIC,EAAQ,OAAO,SAAS,KAAK,QAAQ,OAAQ,EAAE,EAC9CtB,EAAQsB,CAAK,IAChBA,EAAQ,OAEVlB,EAAW,MAAQkB,CACrB,EACA,OAAO,iBAAiB,aAAcD,EAAW,EACjDA,GAAY,EACZE,EAAO,IAAM,aAAa,QAAQxB,EAAa,KAAK,UAAUE,EAAM,KAAK,CAAC,CAAC,EAC3EsB,EAAO,IAAM,CACPjB,EAAY,OAAO,WAAW,IAAMA,EAAY,MAAM,MAAM,CAAC,CACnE,CAAC,EACD,IAAIkB,GAAYC,EAAMnC,EAAS,EAC3BoC,GAASC,EAAYH,EAAS,EAC9BI,GAASD,EAAYD,EAAM,EAC3BG,GAASF,EAAYC,EAAM,EAC3BE,GAASC,EAAaH,EAAM,EAC5BI,GAASnC,GAAU,CACrB,IAAIoC,EAAYR,EAAMjC,EAAS,EAC3B0C,GAASP,EAAYM,CAAS,EAC9BE,GAASR,EAAYO,EAAM,EAC3BE,GAASL,EAAaI,EAAM,EAC5BE,GAASV,EAAYS,EAAM,EAC3BE,GAASP,EAAaK,EAAM,EAC5BG,GAAUZ,EAAYW,EAAM,EAC5BE,GAAUT,EAAaO,EAAM,EAC7BG,GAAUd,EAAYa,EAAO,EAC7BE,GAAUf,EAAYc,EAAO,EAC7BE,GAAUZ,EAAaW,EAAO,EAC9BE,GAAUb,EAAaY,EAAO,EAC9BE,GAAUd,EAAaa,EAAO,EAC9BE,GAAUf,EAAac,EAAO,EAC9BE,GAAUhB,EAAaU,EAAO,EAC9BO,GAAUrB,EAAYoB,EAAO,EAC7BE,GAAUtB,EAAYqB,EAAO,EAC7BE,GAAUvB,EAAYsB,EAAO,EAC7BE,GAAUpB,EAAaiB,EAAO,EAC9BI,GAAUzB,EAAYwB,EAAO,EAC7BE,GAAU1B,EAAYyB,EAAO,EAC7BE,GAAUvB,EAAaoB,EAAO,EAC9BI,GAAU5B,EAAY2B,EAAO,EAC7BE,GAAU7B,EAAY4B,EAAO,EAC7BE,GAAS,CAAC5D,GAAQK,IAAS,CAC7B,IAAIwD,EAAYjC,EAAMhC,EAAS,EAC3BkE,EAAShC,EAAY+B,CAAS,EAC9BE,GAAUjC,EAAYgC,CAAM,EAC5BE,GAAUlC,EAAYiC,EAAO,EAC7BE,GAAU/B,EAAa8B,EAAO,EAC9BE,GAAUpC,EAAYmC,EAAO,EAC7BE,GAAUjC,EAAa+B,EAAO,EAC9BG,GAAUlC,EAAa6B,EAAO,EAC9BM,GAAUnC,EAAakC,EAAO,EAC9BE,GAAStE,IAAU,CACrB,IAAIuE,GAAY3C,EAAM/B,EAAS,EAC3B2E,EAAU1C,EAAYyC,EAAS,EACnC,OAAA9D,EAAY,MAAQ+D,EACpB9C,EAAO,IAAM8C,EAAQ,MAAWnE,EAAK,MAAM,KAAK,EAChDoE,EAAGD,EAAS,UAAWlD,EAAW,EAClCmD,EAAGD,EAAS,OAAQjD,EAAa,EACjCmD,EAAM1E,GAAQuE,EAAS,EAChBC,CACT,EACA,OAAA9C,EAAO,IAAMiD,EAAab,EAAQ,YAAazD,EAAK,MAAM,SAAS,CAAC,EACpEqB,EAAO,IAAMiD,EAAab,EAAQ,UAAWtD,EAAQ,QAAUH,EAAK,MAAM,EAAE,CAAC,EAC7EqB,EAAO,IAAMsC,GAAQ,QAAa3D,EAAK,MAAM,SAAS,EACtDoE,EAAGT,GAAS,SAAUlD,IAASO,GAAYhB,EAAK,MAAM,GAAIS,EAAK,CAAC,EAChE2D,EAAGR,GAAS,WAAY,IAAMzD,EAAQ,MAAQH,EAAK,MAAM,EAAE,EAC3DuE,EAAKV,GAAS,IAAM7D,EAAK,MAAM,MAAOwE,CAAO,EAC7CJ,EAAGN,GAAS,QAAS,IAAMlD,GAAYZ,EAAK,MAAM,EAAE,CAAC,EACrDyE,EAAKT,GAAS,IAAM7D,EAAQ,QAAUH,EAAK,MAAM,GAAKiE,GAAS,IAAI,EACnEI,EAAM1E,GAAQ6D,CAAS,EAChBC,CACT,EACIiB,GAAS/E,IAAU,CACrB,IAAIgF,EAAYpD,EAAM9B,EAAS,EAC3BmF,EAAUnD,EAAYkD,CAAS,EAC/BE,EAAUpD,EAAYmD,CAAO,EACjC,OAAAR,EAAGQ,EAAS,QAASlE,EAAe,EACpC2D,EAAM1E,GAAQgF,CAAS,EAChBC,CACT,EACA,OAAAvD,EAAO,IAAMY,GAAO,QAAa1B,EAAU,QAAU,CAAC,EACtD6D,EAAGnC,GAAQ,SAAUzB,CAAU,EAC/BsE,GAAKzC,GAASkB,GAAQ,IAAMlD,EAAe,KAAK,EAChDkE,EAAK9B,GAAS,IAAMlC,EAAU,MAAOwE,CAAM,EAC3CR,EAAK5B,GAAS,IAAMpC,EAAU,QAAU,EAAI,OAAS,QAASiE,CAAO,EACrEnD,EAAO,IAAMiD,EAAavB,GAAS,WAAY7C,EAAW,QAAU,KAAK,CAAC,EAC1EmB,EAAO,IAAMiD,EAAapB,GAAS,WAAYhD,EAAW,QAAU,QAAQ,CAAC,EAC7EmB,EAAO,IAAMiD,EAAajB,GAAS,WAAYnD,EAAW,QAAU,WAAW,CAAC,EAChFuE,EAAK5B,GAAS,IAAM9C,EAAM,MAAM,OAASQ,EAAU,MAAQmE,GAAS,IAAI,EACxEL,EAAM1E,EAAQoC,CAAS,EAChBC,EACT,EACAoC,EAAGxC,GAAQ,UAAWjB,EAAQ,EAC9B8D,EAAKjD,GAAQ,IAAMzB,EAAM,MAAM,OAAS,EAAI+B,GAAS,IAAI,EACzDiD,EAAOpF,EAAQ2B,EAAS,CAC1B,CACA,IAAO0D,GAAQC,GAAO,QAASvF,GAAO,CAAC,EAAG,CAAC,CAAC,ECrK5CwF,GAAI,UAAU,aAAe,UAAY,CACxC,OAAO,IACR,EAEA,IAAMC,GAAM,IAAID,GAChB,SAAS,KAAK,OAAOC,EAAG",
  "names": ["_Object", "_Symbol", "RE_HYPHENATE", "hyphenate", "str", "RE_HYPHENATE", "is", "_Object", "assign", "is_function", "x", "undefined$1", "RUNNING", "NOTIFIED", "OUTDATED", "DISPOSED", "HAS_ERROR", "TRACKING", "depth_sort", "a", "b", "eval_scope", "eval_context", "eval_sources", "eval_sources_idx", "batched_effects", "batch_depth", "batch_iteration", "clock", "start_batch", "end_batch", "error", "has_error", "effects", "idx", "len", "effect2", "need_recompute", "err", "target", "sources", "source", "cleanup_context", "prune_context_sources", "i", "dispose_effect", "Signal", "value", "_this", "targets", "next", "Computed", "compute", "stale", "prev_context", "prev_sources", "prev_sources_idx", "Effect", "Scope", "detached", "callback", "prev_scope", "scopes", "cleanups", "scope2", "cleanup2", "scope", "cleanup", "is_function", "signal", "value", "Signal", "computed", "compute", "Computed", "effect", "effect2", "Effect", "dispose", "error", "eval_scope", "ENABLE_RANDOM_TAGS", "RANDOM_TAG", "curr_host", "default_value", "_Symbol", "VelvetComponent", "scope", "host", "props", "definition", "prop2", "index", "signal", "setup", "styles", "instance", "hooks", "root", "prev_host", "hook", "ret", "is_function", "attr", "prev", "next", "mapping", "define", "tag", "observed_attrs", "attr_to_prop", "_Object", "Component", "hyphen", "hyphenate", "ENABLE_RANDOM_TAGS", "RANDOM_TAG", "html", "fragment", "is_wrapped", "node", "content", "wrapper", "child", "clone", "template", "first_child", "node", "next_sibling", "replace", "ref", "node", "adopt", "child", "append", "after", "remove_parts", "a", "b", "curr", "on", "type", "listener", "options", "class_toggle", "node", "name", "value", "text", "marker", "expression", "insert", "node", "effect", "show", "instance", "scope", "current", "end", "block", "destroy_block", "each", "parts", "depth", "eval_scope", "items", "index", "items_len", "parts_len", "item", "prev", "start", "signal", "cleanup", "i", "l", "destroy_block", "marker", "end", "remove_parts", "template0", "html", "template1", "template2", "template3", "template4", "setup", "$$root", "$$host", "STORAGE_KEY", "filters", "items", "item", "signal", "visibility", "editing", "editing_ref", "filtered_items", "computed", "remaining", "toggle_all", "event", "clear_completed", "add_todo", "remove_todo", "id", "edit_todo", "next", "toggle_todo", "handle_edit", "handle_submit", "update_view", "route", "effect", "fragment0", "clone", "child0", "first_child", "child1", "child2", "child3", "next_sibling", "block1", "fragment1", "child4", "child5", "child6", "child7", "child8", "child18", "child19", "child20", "child21", "child22", "child23", "child24", "child25", "child26", "child27", "child28", "child29", "child30", "child31", "child32", "child33", "child34", "child35", "block2", "fragment2", "child9", "child10", "child11", "child12", "child13", "child14", "child15", "child17", "block3", "fragment3", "child16", "on", "after", "class_toggle", "text", "replace", "show", "block4", "fragment4", "child36", "child37", "each", "append", "App_default", "define", "App_default", "app"]
}

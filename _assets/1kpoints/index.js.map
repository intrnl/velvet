{
  "version": 3,
  "sources": ["../../../../packages/runtime/dist/esm/context-a0a29906.js", "../../../../packages/runtime/dist/esm/internal.js", "../../../src/1kpoints/viridis.js", "../../../src/1kpoints/components/VizDemo.velvet", "../../../src/1kpoints/components/App.velvet", "../../../../node_modules/.pnpm/perf-monitor@0.4.1/node_modules/perf-monitor/dist/es5/perf-monitor.js", "../../../src/1kpoints/index.js"],
  "sourcesContent": ["let _Object = Object;\nlet _Symbol = Symbol;\n\nlet RE_HYPHENATE = /\\B([A-Z])/g;\nlet noop = () => {\n};\nfunction hyphenate(str) {\n  return str.replace(RE_HYPHENATE, \"-$1\").toLowerCase();\n}\nlet is = /* @__PURE__ */ _Object.is.bind(_Object);\nlet assign = /* @__PURE__ */ _Object.assign.bind(_Object);\nlet is_function = (x) => typeof x === \"function\";\nfunction to_number(value) {\n  return value === \"\" ? null : +value;\n}\n\nlet undefined$1;\nlet RUNNING = 1 << 0;\nlet NOTIFIED = 1 << 1;\nlet OUTDATED = 1 << 2;\nlet DISPOSED = 1 << 3;\nlet HAS_ERROR = 1 << 4;\nlet TRACKING = 1 << 5;\nlet depth_sort = (a, b) => a.c - b.c;\nlet eval_scope;\nlet eval_context;\nlet eval_sources;\nlet eval_sources_idx = 0;\nlet batched_effects;\nlet batch_depth = 0;\nlet batch_iteration = 0;\nlet clock = 0;\nfunction start_batch() {\n  batch_depth++;\n}\nfunction end_batch() {\n  if (batch_depth > 1) {\n    batch_depth--;\n    return;\n  }\n  let error;\n  let has_error = false;\n  while (batched_effects) {\n    let effects = batched_effects.sort(depth_sort);\n    let idx = 0;\n    let len = effects.length;\n    batched_effects = undefined$1;\n    batch_iteration++;\n    for (; idx < len; idx++) {\n      let effect2 = effects[idx];\n      effect2.d &= ~NOTIFIED;\n      if (!(effect2.d & DISPOSED) && need_recompute(effect2)) {\n        try {\n          effect2.m();\n        } catch (err) {\n          if (!has_error) {\n            error = err;\n            has_error = true;\n          }\n        }\n      }\n    }\n  }\n  batch_iteration = 0;\n  batch_depth--;\n  if (has_error) {\n    throw error;\n  }\n}\nfunction need_recompute(target) {\n  let sources = target.b;\n  let len = sources.length;\n  let idx = 0;\n  let source;\n  for (; idx < len; idx++) {\n    source = sources[idx];\n    if (source.e > target.e || source.h()) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction cleanup_context() {\n  let sources = eval_context.b;\n  if (eval_sources) {\n    prune_context_sources();\n    if (eval_sources_idx > 0) {\n      let l = eval_sources.length;\n      let i = 0;\n      sources.length = eval_sources_idx + l;\n      for (; i < l; i++) {\n        sources[eval_sources_idx + i] = eval_sources[i];\n      }\n    } else {\n      sources = eval_context.b = eval_sources;\n    }\n    let len = sources.length;\n    let idx = eval_sources_idx;\n    for (; idx < len; idx++) {\n      let source = sources[idx];\n      source.i = undefined$1;\n      if (eval_context.d & TRACKING) {\n        source.j(eval_context);\n      }\n    }\n  } else if (eval_sources_idx < eval_context.b.length) {\n    prune_context_sources();\n    sources.length = eval_sources_idx;\n  }\n  while (eval_sources_idx--) {\n    let source = sources[eval_sources_idx];\n    source.i = undefined$1;\n  }\n}\nfunction prune_context_sources() {\n  let sources = eval_context.b;\n  let len = sources.length;\n  let idx = eval_sources_idx;\n  for (; idx < len; idx++) {\n    let source = sources[idx];\n    source.g(eval_context);\n  }\n}\nfunction dispose_effect(effect2) {\n  let sources = effect2.b;\n  let len = sources.length;\n  let idx = 0;\n  for (; idx < len; idx++) {\n    sources[idx].g(effect2);\n  }\n  sources.length = 0;\n}\nclass Signal {\n  /**\n   * @param {T} value\n   */\n  constructor(value) {\n    let _this = this;\n    _this.a = value;\n    _this.e = -1;\n    _this.f = [];\n    _this.i = undefined$1;\n  }\n  /**\n   * @internal\n   * @returns {boolean}\n   */\n  h() {\n    return false;\n  }\n  /**\n   * @internal\n   * @param {Computed | Effect} target\n   */\n  j(target) {\n    let _this = this;\n    _this.f.push(target);\n  }\n  /**\n   * @internal\n   * @param {Computed | Effect} target\n   */\n  g(target) {\n    let _this = this;\n    let targets = _this.f;\n    let idx = targets.indexOf(target);\n    targets.splice(idx, 1);\n  }\n  /**\n   * @returns {T}\n   */\n  peek() {\n    let _this = this;\n    return _this.a;\n  }\n  /** @type {T} */\n  get value() {\n    let _this = this;\n    if (eval_context && _this.i !== eval_context) {\n      _this.i = eval_context;\n      if (!eval_sources) {\n        if (eval_context.b[eval_sources_idx] === _this) {\n          eval_sources_idx++;\n        } else {\n          eval_sources = [_this];\n        }\n      } else {\n        eval_sources.push(_this);\n      }\n    }\n    return _this.a;\n  }\n  set value(next) {\n    let _this = this;\n    if (_this.a !== next) {\n      _this.a = next;\n      _this.e = ++clock;\n      if (batch_iteration < 100) {\n        let targets = _this.f;\n        let len = targets.length;\n        let idx = 0;\n        start_batch();\n        for (; idx < len; idx++) {\n          targets[idx].k();\n        }\n        end_batch();\n      }\n    }\n  }\n}\nclass Computed extends Signal {\n  /**\n   * @param {() => T} compute\n   */\n  constructor(compute) {\n    super();\n    let _this = this;\n    _this.l = compute;\n    _this.b = [];\n    _this.d = OUTDATED;\n    _this.n = -1;\n  }\n  /**\n   * @internal\n   * @returns {boolean}\n   */\n  h() {\n    let _this = this;\n    _this.d &= ~NOTIFIED;\n    if (_this.d & RUNNING) {\n      return false;\n    }\n    if ((_this.d & (OUTDATED | TRACKING)) === TRACKING) {\n      return false;\n    }\n    _this.d &= ~OUTDATED;\n    if (_this.n === clock) {\n      return false;\n    }\n    _this.n = clock;\n    _this.d |= RUNNING;\n    if (_this.e > -1 && !need_recompute(_this)) {\n      _this.d &= ~RUNNING;\n      return false;\n    }\n    let stale = false;\n    let prev_context = eval_context;\n    let prev_sources = eval_sources;\n    let prev_sources_idx = eval_sources_idx;\n    try {\n      eval_context = _this;\n      eval_sources = undefined$1;\n      eval_sources_idx = 0;\n      let value = _this.l();\n      if (_this.d & HAS_ERROR || _this.a !== value || _this.e === -1) {\n        stale = true;\n        _this.a = value;\n        _this.d &= ~HAS_ERROR;\n        _this.e = ++clock;\n      }\n    } catch (err) {\n      stale = true;\n      _this.a = err;\n      _this.d |= HAS_ERROR;\n      _this.e = ++clock;\n    }\n    cleanup_context();\n    eval_context = prev_context;\n    eval_sources = prev_sources;\n    eval_sources_idx = prev_sources_idx;\n    _this.d &= ~RUNNING;\n    return stale;\n  }\n  /**\n   * @internal\n   * @param {Computed | Effect} target\n   */\n  j(target) {\n    let _this = this;\n    if (_this.f.length < 1) {\n      let sources = _this.b;\n      let len = sources.length;\n      let idx = 0;\n      _this.d |= TRACKING;\n      for (; idx < len; idx++) {\n        sources[idx].j(_this);\n      }\n    }\n    super.j(target);\n  }\n  /**\n   * @internal\n   * @param {Computed | Effect} target\n   */\n  g(target) {\n    let _this = this;\n    super.g(target);\n    if (_this.f.length < 1) {\n      let sources = _this.b;\n      let len = sources.length;\n      let idx = 0;\n      _this.d &= ~TRACKING;\n      for (; idx < len; idx++) {\n        sources[idx].g(_this);\n      }\n    }\n  }\n  /**\n   * @internal\n   */\n  k() {\n    let _this = this;\n    if (!(_this.d & (NOTIFIED | RUNNING))) {\n      let targets = _this.f;\n      let len = targets.length;\n      let idx = 0;\n      _this.d |= OUTDATED | NOTIFIED;\n      for (; idx < len; idx++) {\n        targets[idx].k();\n      }\n    }\n  }\n  peek() {\n    let _this = this;\n    _this.h();\n    if (_this.d & HAS_ERROR) {\n      throw _this.a;\n    }\n    return _this.a;\n  }\n  get value() {\n    let _this = this;\n    _this.h();\n    if (_this.d & HAS_ERROR) {\n      throw super.value;\n    }\n    return super.value;\n  }\n  set value(next) {\n    super.value = next;\n  }\n}\nclass Effect {\n  /**\n   * @param {() => void} compute\n   */\n  constructor(compute) {\n    let _this = this;\n    _this.l = compute;\n    _this.e = 0;\n    _this.b = [];\n    _this.d = TRACKING;\n    _this.c = 0;\n  }\n  /**\n   * @internal\n   */\n  m() {\n    let _this = this;\n    if (_this.d & RUNNING) {\n      return;\n    }\n    _this.e = clock;\n    _this.d |= RUNNING;\n    _this.d &= ~OUTDATED;\n    let prev_context = eval_context;\n    let prev_sources = eval_sources;\n    let prev_sources_idx = eval_sources_idx;\n    try {\n      start_batch();\n      eval_context = _this;\n      eval_sources = undefined$1;\n      eval_sources_idx = 0;\n      _this.l();\n    } finally {\n      cleanup_context();\n      eval_context = prev_context;\n      eval_sources = prev_sources;\n      eval_sources_idx = prev_sources_idx;\n      _this.d &= ~RUNNING;\n      if (_this.d & DISPOSED) {\n        dispose_effect(_this);\n      }\n      end_batch();\n    }\n  }\n  /**\n   * @internal\n   */\n  k() {\n    let _this = this;\n    if (!(_this.d & (NOTIFIED | RUNNING))) {\n      _this.d |= OUTDATED | NOTIFIED;\n      (batched_effects ||= []).push(_this);\n    }\n  }\n  /**\n   * @internal\n   */\n  o() {\n    let _this = this;\n    _this.d |= DISPOSED;\n    if (!(_this.d & RUNNING)) {\n      dispose_effect(_this);\n    }\n  }\n}\nclass Scope {\n  /**\n   * @param {boolean} [detached]\n   */\n  constructor(detached) {\n    let _this = this;\n    _this.scopes = [];\n    _this.cleanups = [];\n    _this.parent = undefined$1;\n    _this.c = 0;\n    if (!detached && eval_scope) {\n      _this.parent = eval_scope;\n      _this.c = eval_scope.c + 1;\n      eval_scope.scopes.push(_this);\n    }\n  }\n  /**\n   * @template {T}\n   * @param {() => T} callback\n   * @returns {T}\n   */\n  run(callback) {\n    let prev_scope = eval_scope;\n    try {\n      eval_scope = this;\n      return callback();\n    } finally {\n      eval_scope = prev_scope;\n    }\n  }\n  clear() {\n    let _this = this;\n    let scopes = _this.scopes;\n    let cleanups = _this.cleanups;\n    for (let scope2 of scopes) {\n      scope2.clear();\n      scope2.parent = undefined$1;\n    }\n    for (let cleanup2 of cleanups) {\n      cleanup2();\n    }\n    scopes.length = 0;\n    cleanups.length = 0;\n  }\n}\nfunction scope(detached) {\n  return new Scope(detached);\n}\nfunction cleanup(callback) {\n  if (is_function(callback) && eval_scope) {\n    eval_scope.cleanups.push(callback);\n  }\n}\nfunction batch(callback) {\n  if (batch_depth > 0) {\n    return callback();\n  }\n  start_batch();\n  try {\n    return callback();\n  } finally {\n    end_batch();\n  }\n}\nfunction untrack(callback) {\n  let prev_context = eval_context;\n  try {\n    eval_context = undefined$1;\n    return callback();\n  } finally {\n    eval_context = prev_context;\n  }\n}\nfunction peek(value) {\n  if (value instanceof Signal) {\n    return value.peek();\n  }\n  return value;\n}\nfunction signal(value) {\n  return new Signal(value);\n}\nfunction computed(compute) {\n  return new Computed(compute);\n}\nfunction effect(compute) {\n  let effect2 = new Effect(compute);\n  let dispose = effect2.o.bind(effect2);\n  try {\n    effect2.m();\n  } catch (error) {\n    dispose();\n    throw error;\n  }\n  if (eval_scope && effect2.b.length > 0) {\n    effect2.c = eval_scope.c;\n    eval_scope.cleanups.push(dispose);\n  }\n  return dispose;\n}\n\nlet ENABLE_RANDOM_TAGS = false;\nlet RANDOM_TAG = 1;\nfunction use_random_tags() {\n  ENABLE_RANDOM_TAGS = true;\n}\nlet curr_host = null;\nlet default_value = _Symbol();\nclass VelvetComponent extends HTMLElement {\n  // static $c: setup function\n  // static $a: attr to prop definition\n  // static $d: prop definitions\n  // static $s: stylesheets\n  /** is mounted */\n  $m = false;\n  /** scope instance */\n  $c = scope(true);\n  /** @type {Record<number, Signal>} props */\n  $p = {};\n  /** on mount hooks */\n  $h = [];\n  constructor() {\n    super();\n    let host = this;\n    let props = host.$p;\n    let definition = host.constructor.$d;\n    for (let prop2 in definition) {\n      let index = definition[prop2];\n      props[index] = signal(default_value);\n    }\n  }\n  connectedCallback() {\n    let host = this;\n    if (!host.$m) {\n      host.$m = true;\n      let setup = host.constructor.$c;\n      let styles = host.constructor.$s;\n      let instance = host.$c;\n      let hooks = host.$h;\n      let root = host.shadowRoot;\n      if (!root) {\n        root = host.attachShadow({ mode: \"open\" });\n        root.adoptedStyleSheets = styles;\n      }\n      let prev_host = curr_host;\n      try {\n        curr_host = host;\n        instance.run(() => setup(root, host));\n        for (let hook of hooks) {\n          let ret = hook();\n          if (is_function(ret)) {\n            instance.cleanups.push(ret);\n          }\n        }\n        hooks.length = 0;\n      } finally {\n        curr_host = prev_host;\n      }\n    }\n  }\n  disconnectedCallback() {\n    let host = this;\n    if (host.$m) {\n      host.$c.clear();\n      host.shadowRoot.innerHTML = \"\";\n      host.$m = false;\n    }\n  }\n  attributeChangedCallback(attr, prev, next) {\n    let host = this;\n    let mapping = host.constructor.$d;\n    if (attr in mapping) {\n      host.$p[mapping[attr]].value = next === \"\" ? true : next;\n    }\n  }\n}\nfunction define(tag, setup, definition, styles) {\n  let observed_attrs = [];\n  let attr_to_prop = _Object.create(null);\n  class Component extends VelvetComponent {\n    static observedAttributes = observed_attrs;\n    static $c = setup;\n    static $a = attr_to_prop;\n    static $d = definition;\n    static $s = styles;\n  }\n  for (let prop2 in definition) {\n    let index = definition[prop2];\n    let hyphen = hyphenate(prop2);\n    attr_to_prop[hyphen] = prop2;\n    observed_attrs.push(hyphen);\n    _Object.defineProperty(Component.prototype, prop2, {\n      /** @this VelvetComponent */\n      get() {\n        return this.$p[index].a;\n      },\n      /** @this VelvetComponent */\n      set(next) {\n        this.$p[index].value = next;\n      }\n    });\n  }\n  if (ENABLE_RANDOM_TAGS) {\n    tag = \"velvet-\" + RANDOM_TAG++;\n  }\n  if (tag) {\n    customElements.define(tag, Component);\n  }\n  return Component;\n}\nfunction css(text) {\n  const style = new CSSStyleSheet();\n  style.replaceSync(text);\n  return style;\n}\nfunction prop(index, value) {\n  let state = curr_host.$p[index];\n  if (state.value === default_value) {\n    state.value = is_function(value) ? value() : value;\n  }\n  return state;\n}\nfunction on_mount(fn) {\n  if (is_function(fn)) {\n    curr_host.$h.push(fn);\n  }\n}\nfunction event_dispatcher() {\n  let host = curr_host;\n  return (type, detail) => {\n    let event = new CustomEvent(type, { detail, bubbles: false });\n    host.dispatchEvent(event);\n  };\n}\nfunction bind(obj) {\n  assign(curr_host, obj);\n}\nfunction use(node, action, getter) {\n  let ref = getter && computed(getter);\n  let instance = action(node, ref && ref.value);\n  if (!instance) {\n    return;\n  }\n  if (is_function(instance.destroy)) {\n    cleanup(() => instance.destroy());\n  }\n  if (ref && ref.b && is_function(instance.update)) {\n    let init = false;\n    effect(() => {\n      let next = ref.value;\n      if (!init) {\n        init = true;\n        return;\n      }\n      instance.update(next);\n    });\n  }\n}\n\nfunction html(fragment, is_wrapped) {\n  let node = document.createElement(\"template\");\n  node.innerHTML = fragment;\n  if (is_wrapped) {\n    let content = node.content;\n    let wrapper = content.firstChild;\n    let child;\n    wrapper.remove();\n    while (child = wrapper.firstChild) {\n      content.appendChild(child);\n    }\n  }\n  return node;\n}\nfunction create(element) {\n  return document.createElement(element);\n}\nfunction clone(template) {\n  let fragment = document.importNode(template.content, true);\n  return fragment;\n}\n// @__NO_SIDE_EFFECTS__\nfunction first_child(node) {\n  return node.firstChild;\n}\n// @__NO_SIDE_EFFECTS__\nfunction next_sibling(node) {\n  return node.nextSibling;\n}\nfunction traverse(node, indices) {\n  let ref = node;\n  let i = 0;\n  let il = indices.length;\n  let x;\n  let j;\n  for (; i < il; i++) {\n    x = indices[i];\n    ref = ref.firstChild;\n    for (j = 0; j < x; j++) {\n      ref = ref.nextSibling;\n    }\n  }\n  return ref;\n}\nfunction replace(ref, node, adopt) {\n  ref.replaceWith(node);\n  if (adopt) {\n    let child;\n    while (child = ref.firstChild) {\n      node.appendChild(child);\n    }\n  }\n}\nfunction append(ref, node) {\n  ref.append(node);\n}\nfunction after(ref, node) {\n  ref.after(node);\n}\nfunction remove_parts(a, b) {\n  let node = a;\n  if (b.nextSibling === a) {\n    return;\n  }\n  while (node) {\n    let curr = node;\n    node = node.nextSibling;\n    curr.remove();\n    if (curr === b) {\n      break;\n    }\n  }\n}\nfunction on(node, type, listener, options) {\n  node.addEventListener(type, listener, options);\n}\nfunction toggle(node, name, value) {\n  node.toggleAttribute(name, value);\n}\nfunction attr(node, name, value) {\n  node.setAttribute(name, value);\n}\nfunction attr_ifdef(node, name, value) {\n  let map = node.$ifd || (node.$ifd = {});\n  let def = value != null;\n  if (def) {\n    attr(node, name, value);\n  } else if (map[name]) {\n    node.removeAttribute(name);\n  }\n  map[name] = def;\n}\nfunction class_toggle(node, name, value) {\n  node.classList.toggle(name, value);\n}\nfunction style_set(node, name, value) {\n  node.style.setProperty(name, value);\n}\nfunction get_checked_values(array, value, checked) {\n  let next = array.slice();\n  if (checked) {\n    next.push(value);\n    return next;\n  } else {\n    let index = array.indexOf(value);\n    if (index > -1) {\n      next.splice(index, 1);\n      return next;\n    }\n  }\n  return array;\n}\nfunction get_select_values(select) {\n  let multiple = select.multiple;\n  let array = [];\n  let selected = select.selectedOptions;\n  for (let i = 0, l = selected.length; i < l; i++) {\n    let option = selected[i];\n    array.push(option.value);\n  }\n  return multiple ? array : array[0];\n}\nfunction set_select_values(select, current) {\n  let multiple = select.multiple;\n  let options = select.options;\n  for (let i = 0, l = options.length; i < l; i++) {\n    let option = options[i];\n    let selected = multiple ? current.includes(option.value) : option.value === current;\n    option.selected = selected;\n    if (selected && !multiple) {\n      return;\n    }\n  }\n}\n\nlet event_name = \"context-request\";\nfunction provide(key, value) {\n  let listener = (event) => {\n    if (event.context === key) {\n      event.stopImmediatePropagation();\n      event.callback(value, null);\n    }\n  };\n  on(curr_host, event_name, listener);\n}\nfunction inject(key, def) {\n  let value = def;\n  let callback = (next, dispose) => {\n    dispose?.();\n    value = next;\n  };\n  let event = new ContextEvent(key, callback, false);\n  curr_host.dispatchEvent(event);\n  return value;\n}\nclass ContextEvent extends Event {\n  constructor(context, callback, multiple) {\n    super(event_name, { bubbles: true, composed: true });\n    this.context = context;\n    this.callback = callback;\n    this.multiple = multiple;\n  }\n}\n\nexport { create as A, clone as B, ContextEvent as C, first_child as D, next_sibling as E, traverse as F, append as G, after as H, on as I, toggle as J, attr as K, attr_ifdef as L, class_toggle as M, style_set as N, get_checked_values as O, get_select_values as P, set_select_values as Q, Computed as R, Scope as S, Effect as T, noop as U, VelvetComponent as V, hyphenate as W, assign as X, is_function as Y, to_number as Z, computed as a, batch as b, cleanup as c, effect as d, event_dispatcher as e, peek as f, Signal as g, signal as h, inject as i, untrack as j, eval_scope as k, remove_parts as l, is as m, curr_host as n, on_mount as o, provide as p, default_value as q, replace as r, scope as s, define as t, use_random_tags as u, css as v, prop as w, bind as x, use as y, html as z };\n", "import { d as effect, s as scope, k as eval_scope, h as signal, c as cleanup, b as batch, r as replace, l as remove_parts, m as is } from './context-a0a29906.js';\nexport { R as Computed, C as ContextEvent, T as Effect, S as Scope, g as Signal, V as VelvetComponent, H as after, G as append, X as assign, K as attr, L as attr_ifdef, x as bind, M as class_toggle, B as clone, a as computed, A as create, v as css, n as curr_host, q as default_value, t as define, e as event_dispatcher, D as first_child, O as get_checked_values, P as get_select_values, z as html, W as hyphenate, i as inject, Y as is_function, E as next_sibling, U as noop, I as on, o as on_mount, f as peek, w as prop, p as provide, Q as set_select_values, N as style_set, Z as to_number, J as toggle, F as traverse, j as untrack, y as use, u as use_random_tags } from './context-a0a29906.js';\n\nfunction text(marker, expression, insert) {\n  let node = document.createTextNode(\"\");\n  insert(marker, node);\n  effect(() => node.data = expression());\n}\nfunction show(marker, expression) {\n  let instance = scope();\n  let current;\n  let end;\n  effect(() => {\n    let block = expression();\n    if (block === current) {\n      return;\n    }\n    if (end) {\n      instance.clear();\n      destroy_block(marker, end);\n      end = null;\n    }\n    current = block;\n    if (!block) {\n      return;\n    }\n    end = instance.run(() => block(marker));\n  });\n}\nfunction each(marker, block, expression) {\n  let parts = [];\n  let depth = eval_scope.c + 1;\n  effect(() => {\n    let items = expression();\n    let index = 0;\n    let items_len = items.length;\n    let parts_len = parts.length;\n    for (; index < items_len; index++) {\n      if (parts[index]) {\n        let item = parts[index][2];\n        item.value = items[index];\n      } else {\n        let prev = parts[index - 1];\n        let start = prev ? prev[1] : marker;\n        let item = signal(items[index]);\n        let instance = scope(true);\n        instance.c = depth;\n        parts[index] = [instance, instance.run(() => block(start, item, index)), item];\n      }\n    }\n    if (parts_len > items_len) {\n      let prev = parts[index - 1];\n      let start = prev ? prev[1] : marker;\n      let end = parts[parts_len - 1][1];\n      for (; index < parts_len; index++) {\n        parts[index][0].clear();\n      }\n      destroy_block(start, end);\n      parts.length = items_len;\n    }\n  });\n  cleanup(() => {\n    for (let i = 0, l = parts.length; i < l; i++) {\n      let part = parts[i];\n      let instance = part[0];\n      instance.clear();\n    }\n  });\n}\nfunction promise(marker, pending, resolved, rejected, expression) {\n  let status = signal(0);\n  let result = signal(null);\n  let curr_key;\n  let curr_promise;\n  let resolved_block = resolved && ((marker2) => resolved(marker2, result));\n  let rejected_block = rejected && ((marker2) => rejected(marker2, result));\n  effect(() => {\n    try {\n      let next = expression();\n      let promisified = next instanceof Promise ? next : Promise.resolve(next);\n      if (curr_promise === promisified) {\n        return;\n      }\n      let key = curr_key = {};\n      curr_promise = promisified;\n      result.value = null;\n      status.value = 1;\n      promisified.then(\n        (val) => {\n          if (curr_key === key) {\n            batch(() => {\n              result.value = val;\n              status.value = 2;\n            });\n          }\n        },\n        (err) => {\n          if (curr_key === key) {\n            batch(() => {\n              result.value = err;\n              status.value = 3;\n            });\n          }\n        }\n      );\n    } catch (err) {\n      result.value = err;\n      status.value = 3;\n    }\n  });\n  show(marker, () => {\n    let current = status.value;\n    return current === 1 ? pending : current === 2 ? resolved_block : current === 3 ? rejected_block : null;\n  });\n}\nfunction keyed(marker, block, expression) {\n  let init;\n  let curr;\n  let end;\n  let instance = scope();\n  effect(() => {\n    let next = expression();\n    if (init && is(next, curr)) {\n      return;\n    }\n    if (end) {\n      instance.clear();\n      destroy_block(marker, end);\n      end = null;\n    }\n    init = true;\n    curr = next;\n    end = instance.run(() => block(marker));\n  });\n}\nfunction dynamic(marker, block, expression) {\n  let host = marker;\n  let instance = scope();\n  let current;\n  effect(() => {\n    let next = expression();\n    if (next === current) {\n      return;\n    }\n    current = next;\n    instance.clear();\n    replace(host, host = next ? instance.run(() => block(next)) : marker, false);\n  });\n}\nfunction destroy_block(marker, end) {\n  remove_parts(marker.nextSibling, end);\n}\n\nexport { batch, cleanup, dynamic, each, effect, eval_scope, is, keyed, promise, remove_parts, replace, scope, show, signal, text };\n", "function colors (specifier) {\n\tvar n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n\twhile (i < n) {\n\t\tcolors[i] = '#' + specifier.slice(i * 6, ++i * 6);\n\t}\n\treturn colors;\n}\n\nfunction ramp (range) {\n\tlet n = range.length;\n\treturn (t) => range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n}\n\nexport let interpolateViridis = ramp(\n\tcolors(\n\t\t'44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725',\n\t),\n);\n", "import {\n\tprop,\n\tsignal,\n\tcomputed,\n\thtml,\n\tclone,\n\tfirst_child,\n\teffect,\n\tattr,\n\tafter,\n\teach,\n\tappend,\n\tdefine\n} from \"@intrnl/velvet/internal\";\n\nimport { interpolateViridis } from '../viridis.js';\nimport { onMount } from '@intrnl/velvet';\nlet template0 = /*#__PURE__*/ html(\"<svg class=demo><!></svg>\");\nlet template1 = /*#__PURE__*/ html(\"<svg><rect class=point>\", true);\n\nconst Layout = {\n\tPHYLLOTAXIS: 0,\n\tGRID: 1,\n\tWAVE: 2,\n\tSPIRAL: 3\n};\n\nconst LAYOUT_ORDER = [Layout.PHYLLOTAXIS, Layout.SPIRAL, Layout.PHYLLOTAXIS, Layout.GRID, Layout.WAVE];\nconst theta = Math.PI * (3 - Math.sqrt(5));\n\nfunction xForLayout(layout) {\n\tswitch (layout) {\n\t\tcase Layout.PHYLLOTAXIS:\n\t\t\treturn 'px';\n\t\tcase Layout.GRID:\n\t\t\treturn 'gx';\n\t\tcase Layout.WAVE:\n\t\t\treturn 'wx';\n\t\tcase Layout.SPIRAL:\n\t\t\treturn 'sx';\n\t}\n}\n\nfunction yForLayout(layout) {\n\tswitch (layout) {\n\t\tcase Layout.PHYLLOTAXIS:\n\t\t\treturn 'py';\n\t\tcase Layout.GRID:\n\t\t\treturn 'gy';\n\t\tcase Layout.WAVE:\n\t\t\treturn 'wy';\n\t\tcase Layout.SPIRAL:\n\t\t\treturn 'sy';\n\t}\n}\n\nfunction lerp(obj, percent, startProp, endProp) {\n\tlet px = obj[startProp];\n\treturn px + (obj[endProp] - px) * percent;\n}\n\nfunction genPhyllotaxis(n) {\n\treturn i => {\n\t\tlet r = Math.sqrt(i / n);\n\t\tlet th = i * theta;\n\t\treturn [r * Math.cos(th), r * Math.sin(th)];\n\t};\n}\n\nfunction genGrid(n) {\n\tlet rowLength = Math.round(Math.sqrt(n));\n\n\treturn i => [\n\t\t-0.8 + 1.6 / rowLength * (i % rowLength),\n\t\t-0.8 + 1.6 / rowLength * Math.floor(i / rowLength)\n\t];\n}\n\nfunction genWave(n) {\n\tlet xScale = 2 / (n - 1);\n\n\treturn i => {\n\t\tlet x = -1 + i * xScale;\n\t\treturn [x, Math.sin(x * Math.PI * 3) * 0.3];\n\t};\n}\n\nfunction genSpiral(n) {\n\treturn i => {\n\t\tlet t = Math.sqrt(i / (n - 1)), phi = t * Math.PI * 10;\n\t\treturn [t * Math.cos(phi), t * Math.sin(phi)];\n\t};\n}\n\nfunction scale(magnitude, vector) {\n\treturn vector.map(p => p * magnitude);\n}\n\nfunction translate(translation, vector) {\n\treturn vector.map((p, i) => p + translation[i]);\n}\n\nfunction project(vector) {\n\tconst wh = window.innerHeight / 2;\n\tconst ww = window.innerWidth / 2;\n\treturn translate([ww, wh], scale(Math.min(wh, ww), vector));\n}\n\nfunction setup($$root, $$host) {\n\tlet count = prop(0, 1000);\n\tconst NUM_STEPS = 60 * 2;\n\tlet stopped = signal(false);\n\tlet step = signal(0);\n\tlet layout = signal(0);\n\tlet phyllotaxis = computed(() => genPhyllotaxis(count.value));\n\tlet spiral = computed(() => genSpiral(count.value));\n\tlet grid = computed(() => genGrid(count.value));\n\tlet wave = computed(() => genWave(count.value));\n\tlet points = computed(() => makePoints(count.value));\n\n\tonMount(() => {\n\t\trequestAnimationFrame(next);\n\n\t\treturn () => {\n\t\t\tstopped.value = true;\n\t\t};\n\t});\n\n\tfunction next() {\n\t\tif (stopped.value) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet _step = (step.value + 1) % NUM_STEPS;\n\n\t\tlet _layout = _step === 0\n\t\t? (layout.value + 1) % LAYOUT_ORDER.length\n\t\t: layout.value;\n\n\t\tlayout.value = _layout;\n\t\tstep.value = _step;\n\n\t\t// Clamp the linear interpolation at 80% for a pause at each finished layout state\n\t\tconst pct = Math.min(1, _step / (NUM_STEPS * 0.8));\n\n\t\tconst currentLayout = LAYOUT_ORDER[_layout];\n\t\tconst nextLayout = LAYOUT_ORDER[(_layout + 1) % LAYOUT_ORDER.length];\n\t\tconst pxProp = xForLayout(currentLayout);\n\t\tconst nxProp = xForLayout(nextLayout);\n\t\tconst pyProp = yForLayout(currentLayout);\n\t\tconst nyProp = yForLayout(nextLayout);\n\n\t\tpoints.value = points.value.map(point => {\n\t\t\tconst next = { ...point };\n\t\t\tnext.x = lerp(next, pct, pxProp, nxProp);\n\t\t\tnext.y = lerp(next, pct, pyProp, nyProp);\n\t\t\treturn next;\n\t\t});\n\n\t\trequestAnimationFrame(next);\n\t}\n\n\tfunction makePoints(count) {\n\t\tconst array = [];\n\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tconst [px, py] = project((0, phyllotaxis.value)(i));\n\t\t\tconst [sx, sy] = project((0, spiral.value)(i));\n\t\t\tconst [gx, gy] = project((0, grid.value)(i));\n\t\t\tconst [wx, wy] = project((0, wave.value)(i));\n\n\t\t\tarray.push({\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\tcolor: interpolateViridis(i / count),\n\t\t\t\tpx,\n\t\t\t\tpy,\n\t\t\t\tsx,\n\t\t\t\tsy,\n\t\t\t\tgx,\n\t\t\t\tgy,\n\t\t\t\twx,\n\t\t\t\twy\n\t\t\t});\n\t\t}\n\n\t\treturn array;\n\t}\n\n\tlet fragment0 = /*#__PURE__*/ clone(template0);\n\tlet child0 = /*#__PURE__*/ first_child(fragment0);\n\tlet child2 = /*#__PURE__*/ first_child(child0);\n\n\tlet block1 = ($$root, point) => {\n\t\tlet fragment1 = /*#__PURE__*/ clone(template1);\n\t\tlet child1 = /*#__PURE__*/ first_child(fragment1);\n\t\teffect(() => attr(child1, \"transform\", `translate(${Math.floor(point.value.x)}, ${Math.floor(point.value.y)})`));\n\t\teffect(() => attr(child1, \"fill\", point.value.color));\n\t\tafter($$root, fragment1);\n\t\treturn child1;\n\t};\n\n\teach(child2, block1, () => points.value);\n\tappend($$root, fragment0);\n}\n\nexport default define(\"x-viz-demo\", setup, { count: 0 }, []);", "import {\n\tsignal,\n\teffect,\n\thtml,\n\tclone,\n\tfirst_child,\n\tnext_sibling,\n\treplace,\n\ton,\n\ttext,\n\tappend,\n\tdefine\n} from \"@intrnl/velvet/internal\";\n\nimport VizDemo from './VizDemo.velvet';\nlet template0 = /*#__PURE__*/ html(\"<div class=app-wrapper><x></x><div class=controls><span># Points</span><input type=range min=10 max=10000><span></span></div><span class=about> Velvet 1k Points demo, based on the <a href=https://dingoeatingfuzz.github.io/glimmer-1k/ target=_blank>Glimmer demo by Michael Lange</a> </span></div>\");\n\nfunction setup($$root, $$host) {\n\tlet count = signal(1000);\n\n\teffect(() => {\n\t\tconst params = new URLSearchParams(location.search);\n\n\t\tif (params.has('count')) {\n\t\t\tconst next = parseInt(params.get('count'));\n\n\t\t\tif (!Number.isNaN(next) && next >= 10 && next <= 10000) {\n\t\t\t\tcount.value = next;\n\t\t\t}\n\t\t}\n\t});\n\n\tlet fragment0 = /*#__PURE__*/ clone(template0);\n\tlet child0 = /*#__PURE__*/ first_child(fragment0);\n\tlet child1 = /*#__PURE__*/ first_child(child0);\n\tlet child2 = new VizDemo();\n\tlet child3 = /*#__PURE__*/ next_sibling(child1);\n\tlet child4 = /*#__PURE__*/ first_child(child3);\n\tlet child5 = /*#__PURE__*/ first_child(child4);\n\tlet child6 = /*#__PURE__*/ next_sibling(child4);\n\tlet child7 = /*#__PURE__*/ next_sibling(child6);\n\tlet child8 = /*#__PURE__*/ next_sibling(child3);\n\tlet child9 = /*#__PURE__*/ first_child(child8);\n\tlet child10 = /*#__PURE__*/ next_sibling(child9);\n\tlet child11 = /*#__PURE__*/ first_child(child10);\n\tlet child12 = /*#__PURE__*/ next_sibling(child10);\n\teffect(() => child2[\"count\"] = count.value);\n\treplace(child1, child1 = child2, true);\n\teffect(() => child6[\"value\"] = count.value);\n\ton(child6, \"input\", () => count.value = child6.value);\n\ttext(child7, () => count.value, append);\n\tappend($$root, fragment0);\n}\n\nexport default define(\"x-app\", setup, {}, []);", "var MonitorMaxSamples = 100;\nvar MonitorSamplesResult = (function () {\n    function MonitorSamplesResult(min, max, mean, last) {\n        this.min = min;\n        this.max = max;\n        this.mean = mean;\n        this.last = last;\n    }\n    return MonitorSamplesResult;\n}());\n/**\n * Profile Samples.\n */\nvar MonitorSamples = (function () {\n    function MonitorSamples(maxSamples) {\n        this.samples = [];\n        this.maxSamples = maxSamples;\n        this._i = -1;\n    }\n    MonitorSamples.prototype.addSample = function (v) {\n        this._i = (this._i + 1) % this.maxSamples;\n        this.samples[this._i] = v;\n    };\n    MonitorSamples.prototype.each = function (fn) {\n        var samples = this.samples;\n        for (var i = 0; i < samples.length; i++) {\n            fn(samples[(this._i + 1 + i) % samples.length], i);\n        }\n    };\n    MonitorSamples.prototype.calc = function () {\n        var samples = this.samples;\n        if (samples.length === 0) {\n            return new MonitorSamplesResult(0, 0, 0, 0);\n        }\n        var min = samples[(this._i + 1) % samples.length];\n        var max = min;\n        var sum = 0;\n        for (var i = 0; i < samples.length; i++) {\n            var k = samples[(this._i + 1 + i) % samples.length];\n            if (k < min) {\n                min = k;\n            }\n            if (k > max) {\n                max = k;\n            }\n            sum += k;\n        }\n        var last = samples[this._i];\n        var mean = sum / samples.length;\n        return new MonitorSamplesResult(min, max, mean, last);\n    };\n    return MonitorSamples;\n}());\n\n/**\n * Basic Counter.\n */\nvar BasicCounter = (function () {\n    function BasicCounter() {\n        this.value = 0;\n        this.onChange = null;\n    }\n    BasicCounter.prototype.inc = function (value) {\n        if (value > 0) {\n            this.value += value;\n            this.onChange();\n        }\n    };\n    return BasicCounter;\n}());\nvar TimestampedValue = (function () {\n    function TimestampedValue(timestamp, value) {\n        this.value = value;\n        this.next = null;\n    }\n    return TimestampedValue;\n}());\n/**\n * Sliding Counter counts how many times `inc` method were called during `interval` period.\n */\nvar SlidingCounter = (function () {\n    function SlidingCounter(interval) {\n        var _this = this;\n        this._dec = function () {\n            var now = performance.now();\n            while (_this._firstTimestamp !== null) {\n                var nextTimestamp = _this._firstTimestamp;\n                if (now >= nextTimestamp.value) {\n                    _this.value -= nextTimestamp.value;\n                    _this._firstTimestamp = _this._firstTimestamp.next;\n                }\n                else {\n                    setTimeout(_this._dec, Math.ceil(nextTimestamp.value - now));\n                    break;\n                }\n            }\n            if (_this._firstTimestamp === null) {\n                _this._lastTimestamp = null;\n            }\n            _this.onChange();\n        };\n        this.interval = interval;\n        this.value = 0;\n        this.onChange = null;\n        this._firstTimestamp = null;\n        this._lastTimestamp = null;\n    }\n    SlidingCounter.prototype.inc = function (value) {\n        if (value > 0) {\n            var timestamp = new TimestampedValue(performance.now() + this.interval, value);\n            if (this._firstTimestamp === null) {\n                this._firstTimestamp = timestamp;\n                setTimeout(this._dec, this.interval);\n            }\n            else {\n                this._lastTimestamp.next = timestamp;\n            }\n            this._lastTimestamp = timestamp;\n            this.value += value;\n            this.onChange();\n        }\n    };\n    return SlidingCounter;\n}());\n\nvar frameTasks = [];\nvar rafId = -1;\n/**\n * Schedule new task that will be executed on the next frame.\n */\nfunction scheduleNextFrameTask(task) {\n    frameTasks.push(task);\n    if (rafId === -1) {\n        requestAnimationFrame(function (t) {\n            rafId = -1;\n            var tasks = frameTasks;\n            frameTasks = [];\n            for (var i = 0; i < tasks.length; i++) {\n                tasks[i]();\n            }\n        });\n    }\n}\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar MonitorGraphHeight = 30;\nvar MonitorGraphWidth = MonitorMaxSamples;\nvar Widget = (function () {\n    function Widget(name) {\n        var _this = this;\n        this._sync = function () {\n            _this.sync();\n            _this._dirty = false;\n        };\n        this.name = name;\n        this.element = document.createElement(\"div\");\n        this.element.style.cssText = \"padding: 2px;\" +\n            \"background-color: #020;\" +\n            \"font-family: monospace;\" +\n            \"font-size: 12px;\" +\n            \"color: #0f0\";\n        this._dirty = false;\n        this.invalidate();\n    }\n    Widget.prototype.invalidate = function () {\n        if (!this._dirty) {\n            this._dirty = true;\n            scheduleNextFrameTask(this._sync);\n        }\n    };\n    Widget.prototype.sync = function () {\n        throw new Error(\"sync method not implemented\");\n    };\n    return Widget;\n}());\nvar MonitorWidgetFlags;\n(function (MonitorWidgetFlags) {\n    MonitorWidgetFlags[MonitorWidgetFlags[\"HideMin\"] = 1] = \"HideMin\";\n    MonitorWidgetFlags[MonitorWidgetFlags[\"HideMax\"] = 2] = \"HideMax\";\n    MonitorWidgetFlags[MonitorWidgetFlags[\"HideMean\"] = 4] = \"HideMean\";\n    MonitorWidgetFlags[MonitorWidgetFlags[\"HideLast\"] = 8] = \"HideLast\";\n    MonitorWidgetFlags[MonitorWidgetFlags[\"HideGraph\"] = 16] = \"HideGraph\";\n    MonitorWidgetFlags[MonitorWidgetFlags[\"RoundValues\"] = 32] = \"RoundValues\";\n})(MonitorWidgetFlags || (MonitorWidgetFlags = {}));\nvar MonitorWidget = (function (_super) {\n    __extends(MonitorWidget, _super);\n    function MonitorWidget(name, flags, unitName, samples) {\n        var _this = _super.call(this, name) || this;\n        _this.flags = flags;\n        _this.unitName = unitName;\n        _this.samples = samples;\n        var label = document.createElement(\"div\");\n        label.style.cssText = \"text-align: center\";\n        label.textContent = _this.name;\n        var text = document.createElement(\"div\");\n        if ((flags & MonitorWidgetFlags.HideMin) === 0) {\n            _this.minText = document.createElement(\"div\");\n            text.appendChild(_this.minText);\n        }\n        else {\n            _this.minText = null;\n        }\n        if ((flags & MonitorWidgetFlags.HideMax) === 0) {\n            _this.maxText = document.createElement(\"div\");\n            text.appendChild(_this.maxText);\n        }\n        else {\n            _this.maxText = null;\n        }\n        if ((flags & MonitorWidgetFlags.HideMean) === 0) {\n            _this.meanText = document.createElement(\"div\");\n            text.appendChild(_this.meanText);\n        }\n        else {\n            _this.meanText = null;\n        }\n        if ((flags & MonitorWidgetFlags.HideLast) === 0) {\n            _this.lastText = document.createElement(\"div\");\n            text.appendChild(_this.lastText);\n        }\n        else {\n            _this.lastText = null;\n        }\n        _this.element.appendChild(label);\n        _this.element.appendChild(text);\n        if ((flags & MonitorWidgetFlags.HideGraph) === 0) {\n            _this.canvas = document.createElement(\"canvas\");\n            _this.canvas.style.cssText = \"display: block; padding: 0; margin: 0\";\n            _this.canvas.width = MonitorGraphWidth;\n            _this.canvas.height = MonitorGraphHeight;\n            _this.ctx = _this.canvas.getContext(\"2d\");\n            _this.element.appendChild(_this.canvas);\n        }\n        else {\n            _this.canvas = null;\n            _this.ctx = null;\n        }\n        return _this;\n    }\n    MonitorWidget.prototype.sync = function () {\n        var _this = this;\n        var result = this.samples.calc();\n        var scale = MonitorGraphHeight / (result.max * 1.2);\n        var min;\n        var max;\n        var mean;\n        var last;\n        if ((this.flags & MonitorWidgetFlags.RoundValues) === 0) {\n            min = result.min.toFixed(2);\n            max = result.max.toFixed(2);\n            mean = result.mean.toFixed(2);\n            last = result.last.toFixed(2);\n        }\n        else {\n            min = Math.round(result.min).toString();\n            max = Math.round(result.max).toString();\n            mean = Math.round(result.mean).toString();\n            last = Math.round(result.last).toString();\n        }\n        if (this.minText !== null) {\n            this.minText.textContent = \"min: \\u00A0\" + min + this.unitName;\n        }\n        if (this.maxText !== null) {\n            this.maxText.textContent = \"max: \\u00A0\" + max + this.unitName;\n        }\n        if (this.meanText !== null) {\n            this.meanText.textContent = \"mean: \" + mean + this.unitName;\n        }\n        if (this.lastText !== null) {\n            this.lastText.textContent = \"last: \" + last + this.unitName;\n        }\n        if (this.ctx !== null) {\n            this.ctx.fillStyle = \"#010\";\n            this.ctx.fillRect(0, 0, MonitorGraphWidth, MonitorGraphHeight);\n            this.ctx.fillStyle = \"#0f0\";\n            this.samples.each(function (v, i) {\n                _this.ctx.fillRect(i, MonitorGraphHeight, 1, -(v * scale));\n            });\n        }\n    };\n    return MonitorWidget;\n}(Widget));\nvar CounterWidget = (function (_super) {\n    __extends(CounterWidget, _super);\n    function CounterWidget(name, counter) {\n        var _this = _super.call(this, name) || this;\n        _this.counter = counter;\n        _this.text = document.createElement(\"div\");\n        _this.element.appendChild(_this.text);\n        return _this;\n    }\n    CounterWidget.prototype.sync = function () {\n        this.text.textContent = this.name + \": \" + this.counter.value;\n    };\n    return CounterWidget;\n}(Widget));\n\nvar container = null;\nvar initialized = false;\n/**\n * Initialize Performance Monitor.\n */\nfunction initPerfMonitor(options) {\n    if (!initialized) {\n        if (options.container) {\n            container = options.container;\n        }\n        initialized = true;\n    }\n}\n/**\n * Check that everything is properly initialized.\n */\nfunction checkInit() {\n    if (!container) {\n        container = document.createElement(\"div\");\n        container.style.cssText = \"position: fixed;\" +\n            \"opacity: 0.9;\" +\n            \"right: 0;\" +\n            \"bottom: 0\";\n        document.body.appendChild(container);\n    }\n    initialized = true;\n}\n/**\n * Start FPS monitor\n */\nfunction startFPSMonitor(flags) {\n    if (flags === void 0) { flags = MonitorWidgetFlags.HideMin | MonitorWidgetFlags.HideMax |\n        MonitorWidgetFlags.HideMean | MonitorWidgetFlags.RoundValues; }\n    checkInit();\n    var data = new MonitorSamples(MonitorMaxSamples);\n    var w = new MonitorWidget(\"FPS\", flags, \"\", data);\n    container.appendChild(w.element);\n    var alpha = 2 / 121;\n    var last = 0;\n    var fps = 60;\n    function update(now) {\n        if (last > 0) {\n            fps += alpha * ((1000 / (now - last)) - fps);\n        }\n        last = now;\n        data.addSample(fps);\n        w.invalidate();\n        requestAnimationFrame(update);\n    }\n    requestAnimationFrame(update);\n}\n/**\n * Start Memory Monitor\n */\nfunction startMemMonitor(flags) {\n    if (flags === void 0) { flags = MonitorWidgetFlags.HideMin | MonitorWidgetFlags.HideMean; }\n    checkInit();\n    if (performance.memory === undefined) {\n        return;\n    }\n    var data = new MonitorSamples(MonitorMaxSamples);\n    var w = new MonitorWidget(\"Memory\", flags, \"MB\", data);\n    container.appendChild(w.element);\n    function update() {\n        data.addSample(Math.round(performance.memory.usedJSHeapSize / (1024 * 1024)));\n        w.invalidate();\n        setTimeout(update, 30);\n    }\n    update();\n}\nvar ProfilerDetails = (function () {\n    function ProfilerDetails(name, unitName, flags) {\n        this.data = new MonitorSamples(MonitorMaxSamples);\n        this.widget = new MonitorWidget(name, flags, unitName, this.data);\n        this.startTime = -1;\n    }\n    return ProfilerDetails;\n}());\nvar profilerInstances = {};\nvar CounterDetails = (function () {\n    function CounterDetails(name, interval) {\n        var _this = this;\n        this.data = interval === undefined ? new BasicCounter() : new SlidingCounter(interval);\n        this.widget = new CounterWidget(name, this.data);\n        this.data.onChange = function () {\n            _this.widget.invalidate();\n        };\n    }\n    return CounterDetails;\n}());\nvar counterInstances = {};\n/**\n * Initialize profiler and insert into container.\n */\nfunction initProfiler(name, flags) {\n    if (flags === void 0) { flags = 0; }\n    checkInit();\n    var profiler = profilerInstances[name];\n    if (profiler === void 0) {\n        profilerInstances[name] = profiler = new ProfilerDetails(name, \"ms\", flags);\n        container.appendChild(profiler.widget.element);\n    }\n}\n/**\n * Initialize counter and insert into container.\n */\nfunction initCounter(name, interval) {\n    checkInit();\n    var counter = counterInstances[name];\n    if (counter === void 0) {\n        counterInstances[name] = counter = new CounterDetails(name, interval);\n        container.appendChild(counter.widget.element);\n    }\n}\nfunction startProfile(name) {\n    var profiler = profilerInstances[name];\n    if (profiler !== void 0) {\n        profiler.startTime = performance.now();\n    }\n}\nfunction endProfile(name) {\n    var now = performance.now();\n    var profiler = profilerInstances[name];\n    if (profiler !== void 0 && profiler.startTime !== -1) {\n        profiler.data.addSample(now - profiler.startTime);\n        profiler.widget.invalidate();\n    }\n}\nfunction count(name, value) {\n    if (value === void 0) { value = 1; }\n    var counter = counterInstances[name];\n    if (counter !== void 0) {\n        counter.data.inc(value);\n    }\n}\n/**\n * lookup a profile by name\n * @param name the name of the profile to lookup\n */\nfunction getProfile(name) {\n    return profilerInstances[name];\n}\n/**\n * lookup a counter by name\n * @param name the name of the counter to lookup\n */\nfunction getCounter(name) {\n    return counterInstances[name];\n}\n\nexport { initPerfMonitor, startFPSMonitor, startMemMonitor, ProfilerDetails, CounterDetails, initProfiler, initCounter, startProfile, endProfile, count, getProfile, getCounter, MonitorSamplesResult, MonitorMaxSamples, MonitorSamples, BasicCounter, SlidingCounter, Widget, MonitorWidgetFlags, MonitorWidget, CounterWidget };\n", "import App from './components/App.velvet';\nimport VizDemo from './components/VizDemo.velvet';\n\nimport * as perfmon from 'perf-monitor';\n\nimport './style.css';\n\npatchComponent(App);\npatchComponent(VizDemo);\n\nif (!(/[&?]perfmon=(false|off|0)\\b/).test(location.search)) {\n\tperfmon.startFPSMonitor();\n\tperfmon.startMemMonitor();\n}\n\nconst spiral = new App();\ndocument.body.appendChild(spiral);\n\nfunction patchComponent (Component) {\n\t// we don't want shadow DOM to be in our way here, make Velvet think we\n\t// already have a shadow root in place.\n\tComponent.prototype.attachShadow = function () {\n\t\tif (!this.shadowRoot) {\n\t\t\tObject.defineProperty(this, 'shadowRoot', { value: this });\n\t\t}\n\n\t\treturn this;\n\t};\n}\n"],
  "mappings": "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",
  "names": ["_Object", "_Symbol", "RE_HYPHENATE", "hyphenate", "str", "RE_HYPHENATE", "is_function", "x", "undefined$1", "RUNNING", "NOTIFIED", "OUTDATED", "DISPOSED", "HAS_ERROR", "TRACKING", "depth_sort", "a", "b", "eval_scope", "eval_context", "eval_sources", "eval_sources_idx", "batched_effects", "batch_depth", "batch_iteration", "clock", "start_batch", "end_batch", "error", "has_error", "effects", "idx", "len", "effect2", "need_recompute", "err", "target", "sources", "source", "cleanup_context", "prune_context_sources", "l", "i", "dispose_effect", "Signal", "value", "_this", "targets", "next", "Computed", "compute", "stale", "prev_context", "prev_sources", "prev_sources_idx", "Effect", "Scope", "detached", "callback", "prev_scope", "scopes", "cleanups", "scope2", "cleanup2", "scope", "cleanup", "is_function", "signal", "value", "Signal", "computed", "compute", "Computed", "effect", "effect2", "Effect", "dispose", "error", "eval_scope", "ENABLE_RANDOM_TAGS", "RANDOM_TAG", "curr_host", "default_value", "_Symbol", "VelvetComponent", "scope", "host", "props", "definition", "prop2", "index", "signal", "setup", "styles", "instance", "hooks", "root", "prev_host", "hook", "ret", "is_function", "attr", "prev", "next", "mapping", "define", "tag", "observed_attrs", "attr_to_prop", "_Object", "Component", "hyphen", "hyphenate", "ENABLE_RANDOM_TAGS", "RANDOM_TAG", "prop", "index", "value", "state", "curr_host", "default_value", "is_function", "on_mount", "fn", "html", "fragment", "is_wrapped", "node", "content", "wrapper", "child", "clone", "template", "first_child", "node", "next_sibling", "replace", "ref", "node", "adopt", "child", "append", "after", "remove_parts", "a", "b", "curr", "on", "type", "listener", "options", "attr", "node", "name", "value", "text", "marker", "expression", "insert", "node", "effect", "each", "marker", "block", "expression", "parts", "depth", "eval_scope", "effect", "items", "index", "items_len", "parts_len", "item", "prev", "start", "signal", "instance", "scope", "end", "destroy_block", "cleanup", "i", "l", "destroy_block", "marker", "end", "remove_parts", "colors", "specifier", "n", "i", "ramp", "range", "interpolateViridis", "template0", "html", "template1", "Layout", "LAYOUT_ORDER", "theta", "xForLayout", "layout", "yForLayout", "lerp", "obj", "percent", "startProp", "endProp", "px", "genPhyllotaxis", "i", "r", "th", "genGrid", "rowLength", "genWave", "xScale", "x", "genSpiral", "phi", "scale", "magnitude", "vector", "p", "translate", "translation", "project", "wh", "ww", "setup", "$$root", "$$host", "count", "prop", "NUM_STEPS", "stopped", "signal", "step", "phyllotaxis", "computed", "spiral", "grid", "wave", "points", "makePoints", "on_mount", "next", "_step", "_layout", "pct", "currentLayout", "nextLayout", "pxProp", "nxProp", "pyProp", "nyProp", "point", "array", "py", "sx", "sy", "gx", "gy", "wx", "wy", "interpolateViridis", "fragment0", "clone", "each", "first_child", "fragment1", "child1", "effect", "attr", "after", "append", "VizDemo_default", "define", "template0", "html", "setup", "$$root", "$$host", "count", "signal", "effect", "params", "next", "fragment0", "clone", "child1", "first_child", "child2", "VizDemo_default", "child3", "next_sibling", "child4", "child5", "child6", "child7", "child10", "child11", "child12", "replace", "on", "text", "append", "App_default", "define", "MonitorMaxSamples", "MonitorSamplesResult", "min", "max", "mean", "last", "MonitorSamples", "maxSamples", "v", "fn", "samples", "i", "sum", "k", "BasicCounter", "value", "TimestampedValue", "timestamp", "SlidingCounter", "interval", "_this", "now", "nextTimestamp", "frameTasks", "rafId", "scheduleNextFrameTask", "task", "t", "tasks", "__extends", "extendStatics", "d", "b", "p", "__", "MonitorGraphHeight", "MonitorGraphWidth", "Widget", "name", "MonitorWidgetFlags", "MonitorWidget", "_super", "flags", "unitName", "label", "text", "result", "scale", "CounterWidget", "counter", "container", "initialized", "checkInit", "container", "initialized", "startFPSMonitor", "flags", "MonitorWidgetFlags", "data", "MonitorSamples", "MonitorMaxSamples", "w", "MonitorWidget", "alpha", "last", "fps", "update", "now", "startMemMonitor", "ProfilerDetails", "name", "unitName", "CounterDetails", "name", "interval", "_this", "BasicCounter", "SlidingCounter", "CounterWidget", "patchComponent", "App_default", "VizDemo_default", "startFPSMonitor", "startMemMonitor", "spiral", "Component"]
}
